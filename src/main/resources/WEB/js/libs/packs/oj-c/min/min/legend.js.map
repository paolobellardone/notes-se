{"version":3,"file":"legend.js","names":["define","require","exports","hooks_1","Context","Object","defineProperty","value","useVisBusyState","rootRef","baseDescription","useCallback","current","getContext","getBusyContext","addBusyState","description","translationBundle_1","ojvcomponent_1","LegendItem","LegendItemDefaults","markerShape","symbolType","borderColor","categories","lineStyle","drilling","registerCustomElement","props","properties","text","type","enumValues","source","color","lineWidth","markerColor","shortDesc","default","LegendSection","LegendSectionDefaults","legend_item_1","legend_section_1","transformItem","dataItem","sectionIndex","itemIndex","ariaLabelSuffix","hideAndShowBehavior","item","undefined","lineColor","filter","Boolean","join","datatip","actionable","isLegendItemDrillable","id","getDefaultSymbolDims","isTreeDataProvider","transformSection","parseItemId","isLegendInteractive","getSectionStyles","getTextStyles","styles","textFontStyle","fontStyle","textFontSize","fontSize","textFontColor","textFontWeight","fontWeight","textDecoration","textFontFamily","fontFamily","sectionTitleColor","sectionTitleFontFamily","sectionTitleFontSize","sectionTitleFontStyle","sectionTitleFontWeight","sectionTitleTextDecoration","hoverBehavior","hasDrillableItem","split","map","i","parseInt","dataSection","section","items","title","dataprovider","itemDrilling","symbolHeight","symbolWidth","width","height","addItemsAtIndices","indices","itemsToAdd","itemMetadataToAdd","returnItems","forEach","addAtIndex","index","addItem","data","key","metadata","splice","push","async","fetchDataByKeys","dataProvider","keys","fetchedData","results","fetchByKeys","has","result","get","getIndexByKey","keyIndexMap","removeItemsAtIndices","sort","a","b","length","getUpdatedItemsFromMutationDetail","detail","currentData","add","remove","update","Map","entries","set","mutatedData","indexes","size","indicesToRemove","removeItemsAtKeys","removeItemsFromDetail","addBeforeKeys","treatedData","treatedMetaData","fetchResults","itemContext","beforeKeys","addIndices","addItemsBeforeKeys","Array","fill","addItemsAtEnd","addItemsFromDetail","itemsToUpdate","itemMetadataToUpdate","updateAtIndex","updateItemsAtIndices","updateItemsAtKeys","updateItemsFromDetail","utils_1","DataProviderHandler","constructor","callback","this","handleMutateEvent","event","resolver","updatedData","onDataUpdated","handleRefreshEvent","_fetchDataAndNotify","addEventListener","destroy","removeEventListener","_fetchData","asyncIterable","fetchFirst","contextArray","slice","DataProviderHandler_1","useDataProvider","setFetchedData","useState","dataProviderHandler","useRef","useEffect","compat_1","processTemplate","processNodeTemplate","resolveProps","reduce","resolvedProps","origProp","prop","convertPrivatePropFromPreact","toLowerCase","replace","c","toUpperCase","getValidProp","datum","template","context","templateName","children","node","Children","toArray","find","child","_itemData","UNSAFE_useCategories_1","useVizCategories","categoriesItem","getCategories","hiddenCategories","highlightedCategories","hiddenMatch","highlightMatch","onHiddenCategoriesChanged","onHighlightedCategoriesChanged","ids","hiddenIds","updateCategories","updateHidden","useCategories","highlightedIds","updateHighlighted","getLegendEventsHandler","isHideShowOn","isHighlightOn","getDrillDetail","getItemDrilling","onOjDrill","itemActionHandler","itemId","sectionIdx","itemIdx","inputHandler","TemplateHandler_1","useDataProvider_1","FlattenedTreeDataProviderView","ojkeyset_1","useSectionData","sectionTemplate","itemTemplate","dpRef","flatDpRef","expanded","AllKeySetImpl","sections","currentSection","indexFromParent","treeDepth","sectionData","parentKey","parentData","processedItem","jsx_runtime_1","UNSAFE_Legend_1","useVisBusyState_1","UNSAFE_SectionalLegend_1","UNSAFE_useTranslationBundle_1","useVizCategories_1","events_1","useSectionData_1","LinearLegend","textStyle","orientation","translations","useTranslationBundle","useMemo","some","preactItems","vis_drillable","isInteractive","categoriesItems","_","textStyles","jsx","Legend","isReadOnly","onItemAction","onItemHover","onItemFocus","SectionalLegend","sectionTitleStyle","preactSections","sectionTitleStyles","sectionTitleHAlign","sectionTitleHalign","halign","valign","isTreeData","symWidth","symHeight","Root","ref","class","writeback","slots","events","ojDrill","extension","_WRITEBACK_PROPS","_READ_ONLY_PROPS","_OBSERVED_GLOBAL_PROPS","legend_1","enumerable"],"sources":["0"],"mappings":"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"}