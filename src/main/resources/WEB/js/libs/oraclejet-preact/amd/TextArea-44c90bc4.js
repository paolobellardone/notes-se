define(['exports', 'preact/jsx-runtime', 'preact/compat', './FormContext-5130e198', './useFormContext-30acdd33', './FormFieldContext-3c44aaaa', 'preact/hooks', './useFocusableTextField-c2f98a8b', './Label-3f8fc274', './TextFieldInput-dfd9529f', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-a5e85e5d', './StyledTextField-8ac3bbb4', './TextField-0fc70892', './MaxLengthLiveRegion-e3856a98', './useTextField-e6877c79', './logger-0f873e29', './TabbableModeContext-a9c97640', './useId-c9578d26', './useTranslationBundle-20bfc0f3', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-f4d1fa1b', './CompactUserAssistance-b2cbdbad', './useTooltipControlled-18271c7a', 'preact', 'css!./IconStyle.styles.css', './Popup-b5495d55', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', './LayerHost-0a244de8', './HiddenAccessible-037ef42d', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-ed8959a4', './MaxLengthCounter-caafceef', './useCurrentValueReducer-faded381'], (function(e,s,t,a,n,i,l,o,r,d,c,u,x,m,p,b,h,f,F,g,y,L,v,A,C,R,T,S,I,U,j,E,w,P,_,D,V,k,M,B){"use strict";const N=t.forwardRef((({"aria-describedby":e,assistiveText:a,autoComplete:l="off",autoFocus:c=!1,columnSpan:h,helpSourceLink:f,helpSourceText:y,isDisabled:L,isReadonly:v,isRequired:R=!1,isRequiredShown:T,label:S,labelEdge:I,labelStartWidth:U,maxLength:j,maxLengthCounter:E="remaining",maxLengthUnit:w,messages:P,placeholder:D,resize:V,role:N,rows:H,textAlign:q,userAssistanceDensity:z,value:W,variant:$="default",onInput:G,onCommit:O,testId:X},J)=>{const K=g.useTranslationBundle("@oracle/oraclejet-preact"),Q=j?K.formControl_limitReached({CHARACTER_LIMIT:j}):"",{currentCommitValue:Y,dispatch:Z}=B.useCurrentValueReducer({value:W}),ee=t.useCallback((e=>{Z({type:"input",payload:e.value}),G?.(e)}),[G,Z]),se=t.useCallback((e=>{Z({type:"commit",payload:e.value}),O?.(e)}),[O,Z]),{isDisabled:te,isReadonly:ae,labelEdge:ne,labelStartWidth:ie,textAlign:le,userAssistanceDensity:oe}=n.useFormContext(),re=L??te,de=v??ae,ce=I??ne,ue=U??ie,xe=q??le,me=z??oe,pe=t.useRef(F.useId()),be=e?`${e} ${pe.current}`:pe.current,{enabledElementRef:he,readonlyElementRef:fe,focusProps:Fe,isFocused:ge}=o.useFocusableTextField({isDisabled:re,isReadonly:de,ref:J}),{isMaxLengthReached:ye,valueLength:Le,onFilteredInput:ve}=k.useLengthFilter({maxLength:j,maxLengthUnit:w,value:W,onInput:ee,onCommit:se}),Ae=[...P??[],...ye?[{detail:Q,severity:"info"}]:[]],{formFieldContext:Ce,inputProps:Re,labelProps:Te,textFieldProps:Se,userAssistanceProps:Ie}=b.useTextField({ariaDescribedBy:de||re?e:be,contentVariant:"textarea",helpSourceLink:f,helpSourceText:y,isDisabled:re,isFocused:ge,isReadonly:de,isRequiredShown:T,labelEdge:ce,messages:Ae,styleVariant:$,userAssistanceDensity:me,value:W}),Ue=t.useCallback((()=>{const e=he.current,s=e?e.value.length:null;he.current?.setSelectionRange(s,s),he.current?.focus()}),[he]),je="none"!==ce?s.jsx(r.Label,{...Te,children:S}):void 0,Ee={label:"none"!==ce?je:void 0,labelEdge:"none"!==ce?ce:void 0,labelStartWidth:"none"!==ce?ue:void 0},we="none"===ce?S:void 0,Pe="efficient"===me||"reflow"===me?re||de?"efficient"!==me?void 0:s.jsx(A.InlineUserAssistance,{userAssistanceDensity:me,...Ie}):s.jsx(A.InlineUserAssistance,{assistiveText:a,fieldLabel:S,helpSourceLink:f,helpSourceText:y,messages:Ae,isRequiredShown:T,userAssistanceDensity:me,...Ie}):void 0,_e=t.useRef(null),De="compact"===me?s.jsx(C.CompactUserAssistance,{anchorRef:_e,messages:Ae,assistiveText:a,...Ie}):void 0;if(de){const e=s.jsx(u.ReadonlyTextFieldInput,{"aria-describedby":Re["aria-describedby"],"aria-label":we,"aria-labelledby":Te.id,as:"textarea",elementRef:fe,rows:H,autoFocus:c,textAlign:xe,value:W,variant:"textarea",hasEmptyLabel:""===S&&"none"===ce,hasInsideLabel:void 0!==S&&"inside"===ce});return s.jsx(i.FormFieldContext.Provider,{value:Ce,children:s.jsx(x.ReadonlyTextField,{role:"presentation",columnSpan:h,compactUserAssistance:De,inlineUserAssistance:Pe,ref:_e,testId:X,variant:"textarea",mainContent:e,resize:V,...Ee})})}const Ve=void 0!==j,ke=s.jsxs(s.Fragment,{children:[s.jsx(d.TextFieldInput,{as:"textarea","aria-label":we,autoComplete:l,autoFocus:c,currentCommitValue:Y,hasEmptyLabel:""===S&&"none"===ce,hasInsideLabel:void 0!==je&&"inside"===ce,isRequired:R,inputRef:he,onCommit:se,onInput:ve,placeholder:D,role:N,rows:H,textAlign:xe,value:W,...Re}),"remaining"===E&&Ve&&s.jsx(M.MaxLengthCounter,{maxLength:j,valueLength:Le,onClick:Ue}),Ve&&s.jsx(_.HiddenAccessible,{id:pe.current,isHidden:!0,children:K.formControl_maxLength({MAX_LENGTH:`${j}`})}),Ve&&ge&&s.jsx(p.MaxLengthLiveRegion,{maxLength:j,valueLength:Le,testId:X+"_remainingChars"})]});return s.jsx(i.FormFieldContext.Provider,{value:Ce,children:s.jsx(m.TextField,{mainContent:ke,columnSpan:h,compactUserAssistance:De,inlineUserAssistance:Pe,onBlur:Fe?.onFocusOut,onFocus:Fe?.onFocusIn,mainFieldRef:_e,resize:V,testId:X,...Se,...Ee})})}));e.TextArea=N}));
//# sourceMappingURL=TextArea-44c90bc4.js.map
