define(['exports', 'preact/jsx-runtime', 'preact/hooks', './HighlightText-bf373d9a', './Flex-0052275f', './Skeleton-064b51d7', './logger-36c6eea0', './PRIVATE_SelectCommon/themes/dropdownStyles.css', './List-95327680', './Floating-aaafdcf7', './Layer-ea9920e0', 'preact/compat', './TopLayerHost-d9bd8ecf', './keyboardUtils-539a0e51', './useOutsideMousedown-d53a6843', './usePress-465090ef', './CaretDown-d5df36f2', './classNames-49c3ba27', './useComponentTheme-9a36e65b', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutTheme', './useCollectionGestureContext-66a14681', './FormFieldContext-57ac57ba', './TabbableModeContext-c9143afd', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-96d6436b', 'css!./MessageBannerStyles.styles.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'preact', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./IconStyle.styles.css', './IconButton-edf452c8', 'css!./MessageStyles.styles.css', './MessageFormattingUtils-6913a734', './TransitionGroup-f4f056d2', './MessagesContext-ec60ba60', 'css!./HiddenAccessibleStyles.styles.css', 'css!./ComponentMessageStyles.styles.css', 'module', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageVariants.css', './Popup-c6026a77', './UNSAFE_Separator/themes/SeparatorStyles.css', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-6c5f432c', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useTranslationBundle-20ce0acf', './Link-0eb3b20c', './useFocusWithin-dbdce73a', './useHover-29c192f3', './Separator-f7e57213', './WindowOverlay-8f5fb8d4', './PRIVATE_SelectCommon/themes/mobileDropdownStyles.css', './PRIVATE_SelectCommon/themes/selectMobileDropdownStyles.css', './textAlign-a02ed68b', './mergeInterpolations-497657fd', './useFormFieldContext-cbd8677f', './PRIVATE_SelectCommon/themes/SelectMobileFieldInputStyles.css', './TextFieldUtils-da033871', './useTabbableMode-c39b463d', './Text-77df83fd', './useAccessibleContext-723ca770', './stringUtils-c9076bae', './UNSAFE_TextField/themes/redwood/TextFieldInputTheme', './clientHints-5a067fae', './tabbableUtils-a1aa6b01'], (function(e,s,t,o,n,a,l,r,i,d,c,u,p,h,b,m,f,S,y,x,w,C,g,F,v,T,A,D,M,E,k,I,U,j,P,K,L,N,B,R,_,O,V,H,G,W,Y,z,q,$,J,Q,X,Z,ee,se,te,oe,ne,ae,le,re,ie,de,ce,ue,pe,he,be,me,fe,Se){"use strict";function ye(e,s){if("string"!=typeof s)return s(e);if(e.data?.hasOwnProperty(s)){const t=e.data[s];return String(t)}l.error("SelectMultiple: itemText specifies field that does not exist: "+s)}const xe=()=>{};const we=s.jsx(i.SkeletonContainer,{minimumCount:3,children:()=>s.jsx(n.Flex,{height:"12x",align:"center",children:s.jsx(a.Skeleton,{height:"4x"})})}),Ce=e=>0===e.button&&!e.ctrlKey,ge=e=>{e.currentTarget===e.target&&e.preventDefault()},Fe="bottom-start";const ve=()=>{};function Te({children:e,id:t,isOpen:o}){return o?s.jsx(c.Layer,{children:s.jsx(oe.WindowOverlay,{children:s.jsx("div",{id:t,class:ne.mobileDropdownStyles.base,role:"dialog","aria-modal":"true",children:s.jsx(n.Flex,{width:"100%",height:"100%",maxHeight:"100%",direction:"column",children:e})})})}):null}const Ae=[...Object.values(le.textInterpolations)],De=re.mergeInterpolations(Ae),Me=u.forwardRef((({"aria-controls":e,"aria-describedby":t,"aria-expanded":o,"aria-invalid":n,"aria-label":a,"aria-labelledby":l,displayValue:r,hasEmptyLabel:i,hasInsideLabel:d=!1,isRequired:c,onBlur:u,onFocus:p,placeholder:h,textAlign:b,variant:m="default"},f)=>{const{isDisabled:x,isFocused:w,hasValue:C=!1}=ie.useFormFieldContext(),{isTabbable:g,tabbableModeProps:F}=ue.useTabbableMode(),v=ce.isInputPlaceholderShown(d,C,w)?h:void 0,{UNSAFE_ariaLabelledBy:T}=he.useAccessibleContext(),A=i?be.merge([l,T]):l,{class:D}=De({textAlign:b}),{classes:M}=y.useComponentTheme(me.TextFieldInputRedwoodTheme,{type:"notPassword",styleVariant:m,textarea:"notTextArea",input:"isInput",prefix:"noPrefix",suffix:"noSuffix",startContent:"noStartContent",endContent:"hasEndContent",insideLabel:d?"hasInsideLabel":"noInsideLabel",value:C?"hasValue":"noValue",focused:w?"isFocused":"notFocused",disabled:x?"isDisabled":"notDisabled"}),E=S.classNames([de.selectMobileFieldInputStyles.base,D,M]);return s.jsx("div",{"aria-autocomplete":"list","aria-controls":e,"aria-describedby":t,"aria-expanded":o,"aria-invalid":n,"aria-label":a,"aria-labelledby":A,"aria-required":c?"true":void 0,class:E,onBlur:u,onFocus:p,ref:f,role:"combobox",...g&&F,children:s.jsx("div",{class:de.selectMobileFieldInputStyles.content,children:s.jsx(pe.Text,{variant:r?"inherit":"secondary",children:r||v})})})}));e.DefaultList=function({"aria-label":e,currentItemVariant:a,currentKey:l,data:d,itemRenderer:c,itemText:u,onCurrentKeyChange:p,onItemAction:h,onLoadRange:b=xe,onSelectionChange:m,searchText:f,selectedKeys:S,selectionMode:y}){const x=t.useCallback((e=>{const t={data:e.data,index:e.index,metadata:e.metadata,selector:e.selector,searchText:f,selectedKeys:S,onSelectionChange:({target:e,value:s})=>{m?.({target:e,value:{all:!1,keys:s}})}},a={data:e.data,key:e.metadata.key,metadata:e.metadata};return c?c(t):s.jsxs(n.Flex,{children:[e.selector&&e.selector(),s.jsx("div",{class:r.dropdownStyles.item,children:s.jsx(o.HighlightText,{matchText:f,children:ye(a,u)})})]})}),[c,u,m,f,S]),w=t.useMemo((()=>({all:!1,keys:S??new Set})),[S]);return s.jsx(i.List,{"aria-label":e,allowTabbableMode:!1,currentItemVariant:a,currentKey:l,data:d??null,loadingIndicator:we,onCurrentKeyChange:p,onItemAction:h,onLoadRange:b,onSelectionChange:m,role:"listbox",selectedKeys:w,selectionMode:y,children:e=>x(e)})},e.Dropdown=function({anchorRef:e,children:o,dropdownRef:n,id:a,isOpen:l,onAutoDismiss:i,onPosition:u}){const[p,m]=t.useState(Fe),[f,S]=t.useState(l);f!==l&&(l||m(Fe));const y=t.useCallback((e=>{m(e.placement),u?.(e)}),[u,m]),x=t.useCallback((e=>{i?.(e)}),[i]),w=t.useCallback((e=>{if(!e.defaultPrevented&&!h.isControlOrFunctionKey(e))switch(e.code){case h.KEYS.ESC:case h.KEYS.TAB:x(e)}}),[x]);b.useOutsideMousedown({isDisabled:!l,ref:[e,n],handler:x});const C=l?{minWidth:`${e.current?.offsetWidth}px`}:{};return f!==l&&S(l),l?s.jsx(c.Layer,{logicalParentRef:e,children:s.jsx(d.Floating,{anchorRef:e,sizeOptions:{isMaxHeightAdjusted:!0,maxHeightCeiling:400},ref:n,placement:p,offsetValue:{mainAxis:4,crossAxis:0},onPosition:y,children:s.jsx("div",{class:r.dropdownStyles.base,id:a,style:C,onKeyDown:w,onMouseDown:ge,children:o})})}):null},e.DropdownArrow=function({isDisabled:e=!1,onClick:o,size:n="md"}){const{baseTheme:a}=y.useComponentTheme(x.ButtonLayoutRedwoodTheme),l=t.useCallback((e=>{e.preventDefault()}),[]),{pressProps:i}=m.usePress(o??ve,{isDisabled:e}),d=S.classNames([a,r.dropdownStyles.arrow.base,"sm"===n?r.dropdownStyles.arrow.sizeSm:r.dropdownStyles.arrow.sizeMd,e?r.dropdownStyles.arrow.disabled:r.dropdownStyles.arrow.enabled]);return s.jsx("span",{"aria-hidden":"true",class:d,tabIndex:-1,onMouseDown:l,...i,children:s.jsx(f.SvgCaretDown,{})})},e.DropdownList=function({children:e,hasTopGap:t=!0,hasBottomGap:o=!0,isLoading:n=!1}){const a=S.classNames([r.dropdownStyles.list.base,t&&r.dropdownStyles.list.topGap,o&&r.dropdownStyles.list.bottomGap,n&&r.dropdownStyles.list.loading]);return s.jsx(w.CollectionGestureContext.Provider,{value:"embedded",children:s.jsx("div",{class:a,onMouseDown:ge,children:e})})},e.DropdownUserAssistance=function(e){const o=t.useCallback((e=>{"A"!==e.target?.tagName&&e.preventDefault()}),[]);return s.jsx(C.FormFieldContext.Provider,{value:{isFocused:!0},children:s.jsx("div",{class:r.dropdownStyles.userAssistance,onMouseDown:o,children:s.jsx(A.InlineUserAssistance,{...e})})})},e.EmptyResults=function(){const e=X.useTranslationBundle("@oracle/oraclejet-preact");return s.jsx("div",{class:r.dropdownStyles.results.extraItem,onMouseDown:ge,children:e.select_noMatchesFound()})},e.LinkItem=({children:e,isHighlighted:o,onAction:n})=>{const{isHover:a,hoverProps:l}=se.useHover(),{isFocused:i,focusProps:d}=ee.useFocusWithin(),c=t.useCallback((e=>(e.preventDefault(),n?.(),!1)),[n]),u=S.classNames([i?r.dropdownStyles.results.linkItemFocus:void 0]),p=S.classNames([r.dropdownStyles.results.extraItem,a||i||o?r.dropdownStyles.results.linkItemHighlight:void 0]);return s.jsx("div",{class:u,...d,children:s.jsx(Z.Link,{href:"#",onClick:c,children:s.jsx("div",{class:p,...l,children:e})})})},e.MobileDropdown=Te,e.SelectMobileDropdown=function({children:e,footer:t,hasHeaderSeparator:o=!0,header:n,id:a,isOpen:l}){return s.jsxs(Te,{id:a,isOpen:l,children:[n,o&&s.jsx(te.Separator,{}),s.jsx("div",{class:ae.selectMobileDropdownStyles.content,children:e}),s.jsx(te.Separator,{}),t]})},e.SelectMobileFieldInput=Me,e.isBeforeDataFetch=function(e){return"atLeast"===e.sizePrecision&&0===e.totalSize},e.isMobile=function(){const e=fe.getClientHints().deviceType;return"phone"===e||"tablet"===e},e.isPhone=function(){return"phone"===fe.getClientHints().deviceType},e.isSearchTextEmptyOrUndefined=function(e){return void 0===e||0===e.length},e.isSimpleClick=Ce,e.isTablet=function(){return"tablet"===fe.getClientHints().deviceType},e.preventDefault=e=>{e.preventDefault()},e.preventDefaultForCurrentTarget=ge,e.renderItemText=ye,e.useSelectCommon=function({data:e,inputRef:s,isFocused:o,onFilter:n}){const a=t.useRef(null),l=t.useRef(null),[r,i]=t.useState(!1),[d,c]=t.useState(!1),[u,p]=t.useState({rowKey:void 0}),[b,m]=t.useState(!1),[f,S]=t.useState(),[y,x]=t.useState(),[w,C]=t.useState(r),[g,F]=t.useState(o),[v,T]=t.useState(b),A=t.useCallback((e=>{!e.defaultPrevented&&Ce(e)&&(r||i(!0),setTimeout((function(){s.current?.focus()}),0))}),[s,r]),D=t.useCallback((()=>{i(!r),s.current?.focus()}),[s,r]),M=t.useCallback((e=>{if(r)switch(i(!1),e?.type){case"keydown":if(e.code===h.KEYS.ESC)s.current?.focus();break;case"mousedown":l.current?.contains(document.activeElement)&&s.current?.focus()}}),[s,r]),E=t.useCallback((e=>{c(e.placement.startsWith("top"))}),[]),k=t.useCallback((()=>r&&l.current?Se.allTabbableElements(l.current):void 0),[r]),I=t.useCallback((s=>{if(r){const s=k();s?.[0]?.focus(),void 0!==e&&void 0===u.rowKey&&p({rowKey:e?.data?.[0]?.metadata?.key})}else i(!0);s.preventDefault()}),[u,e,k,r]),U=t.useCallback((e=>{if(!h.isControlOrFunctionKey(e))switch(e.code){case h.KEYS.PAGE_UP:case h.KEYS.PAGE_DOWN:return void e.preventDefault();case h.KEYS.UP:case h.KEYS.DOWN:e.preventDefault();break;case h.KEYS.ESC:r&&(i(!1),e.preventDefault(),e.stopPropagation())}}),[r]),j=t.useCallback((e=>{if(!h.isControlOrFunctionKey(e))switch(e.code){case h.KEYS.UP:case h.KEYS.DOWN:I(e)}}),[I]),P=t.useCallback((e=>{r||i(!0),m(!0),S(e.value);const s=e.value;x(s),n?.({searchText:s})}),[r,n]),K=t.useCallback((e=>{p({rowKey:e.value})}),[]),L=t.useCallback((()=>{m(!1),S(""),x("")}),[]);return w===r&&g===o&&v===b||r||o||!b||L(),t.useEffect((()=>{r&&!b&&n?.({searchText:void 0})}),[r,b,n]),w!==r&&(r||c(!1),C(r)),g!==o&&F(o),v!==b&&T(b),{currentRow:u,dropdownRef:l,getDropdownTabbableElems:k,handleDropdownArrowClick:D,handleDropdownAutoDismiss:M,handleDropdownPosition:E,handleInput:P,handleMainFieldKeyDown:U,handleMainFieldKeyUp:j,handleUpDownArrowKeys:I,isDropdownAbove:d,isDropdownOpen:r,isFocused:o||r,isUserFiltering:b,mainFieldRef:a,onCurrentKeyChange:K,onMouseDown:A,searchText:y,setCurrentRow:p,setDropdownOpen:i,setUserInput:S,stopFiltering:L,userInput:f}}}));
//# sourceMappingURL=useSelectCommon-a7f8e10c.js.map
