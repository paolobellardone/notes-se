define(['exports', 'preact/hooks', './layoutUtils-ba7693df', './eventsUtils-edf8f4e5', './accUtils-93ee6f16', './useVisHover-28319fef', './mergeProps-bcfa6a92'], (function(e,s,r,i,n,o,t){"use strict";function u(e,s){return e?.groupIndex===s?.groupIndex&&e?.isCurrent===s?.isCurrent&&e?.isFocusVisible===s?.isFocusVisible}function c(e,s){return e?.seriesIndex===s?.seriesIndex&&u(e,s)}e.useChartNav=function({rootRef:e,getNextChartItem:n,getDefaultNavGroup:d,getNextNavGroup:I,xIndexExtent:a,touchResponse:l,onItemHover:x,onItemFocus:f,drilling:g}){const[p,v]=s.useState({groupIndex:a.startIndex,seriesIndex:0}),C="on"===g||"groupsOnly"===g,[b,F]=s.useState(),[V,h]=s.useState({groupIndex:0}),m=s.useRef(),R=s.useRef(),k=s.useRef(),w=p.isCurrent,y=V.isCurrent,E=e=>{u(e,V)||h(e)},U=(e,s)=>{const i="hover"===e?R:k,n="hover"===e?x:f;if(!c(s,i.current)){const e={groupIndex:s?.groupIndex,seriesIndex:s?.seriesIndex};n?.(e),i.current=s,m.current=r.getRandomId()}},N=e=>{var s,r;c(e,p)||(v(e),b&&(s=b,r=e,s?.seriesIndex!==r?.seriesIndex||r?.groupIndex!==s?.groupIndex)&&F({...b,isCurrent:!1}),e.isCurrent&&U("focus",e))},A=e=>{b&&c(e,b)||(F(e),v({...p,isCurrent:!1}),U("hover",e))},M=e=>{const s=d(V),n=Math.max(a.startIndex,Math.min(a.endIndex,p.groupIndex));e.shiftKey?w?(N({...p,groupIndex:n,isCurrent:!1,isFocusVisible:!1}),U("focus",void 0)):y?(N({...p,groupIndex:n,isCurrent:!0,isFocusVisible:!0}),C&&(E({...V,...s,isCurrent:!1,isFocusVisible:!1}),i.cancelEvent(e))):C&&E({...V,...s,isCurrent:!0,isFocusVisible:!0}):w?(N({...p,groupIndex:n,isCurrent:!1,isFocusVisible:!1}),C&&(E({...V,...s,isCurrent:!0,isFocusVisible:!0}),i.cancelEvent(e)),U("focus",void 0)):y&&C?E({...V,...s,isCurrent:!1,isFocusVisible:!1}):N({...p,groupIndex:n,isCurrent:!0,isFocusVisible:!0}),m.current=r.getRandomId()},P=o.useVisHover((s=>{const r=i.getInfo(e,s.target);if(!r)return void A(void 0);const{seriesIndex:n,groupIndex:o}=r;null!=n&&(A({seriesIndex:n,groupIndex:o,isCurrent:!0}),N({...p,isCurrent:!1}))}),void 0,(()=>{A(void 0)}),l);return{focusedItemInfo:p,focusedGroupInfo:V,hoveredItemInfo:b,activeId:m.current,navProps:t.mergeProps(P,{onKeyDown:e=>{const s=e.key;switch(s){case"Tab":M(e);break;case"ArrowRight":if(y){const e=I(V,s);E({...e,isCurrent:!0,isFocusVisible:!0})}else{const e=n(p,s);N({...e,isCurrent:!0,isFocusVisible:!0})}F(void 0),i.cancelEvent(e);break;case"ArrowLeft":if(y){const e=I(V,s);E({...e,isCurrent:!0,isFocusVisible:!0})}else{const e=n(p,s);N({...e,isCurrent:!0,isFocusVisible:!0})}F(void 0),i.cancelEvent(e);break;case"ArrowUp":if(w){const e=n(p,s);N({...e,isCurrent:!0,isFocusVisible:!0})}F(void 0),i.cancelEvent(e);break;case"ArrowDown":if(w){const e=n(p,s);N({...e,isCurrent:!0,isFocusVisible:!0})}F(void 0),i.cancelEvent(e)}},onKeyUp:e=>{if("Tab"===e.key)w||y||M(e)},onPointerUp:s=>{const r=i.getInfo(e,s.target);if(!r)return;const{seriesIndex:n,groupIndex:o}=r;null!=n&&null!=o?(N({seriesIndex:n,groupIndex:o,isCurrent:!1,isFocusVisible:!1}),E({...V,isCurrent:!1,isFocusVisible:!1})):void 0!==o&&void 0===n&&(E({groupIndex:o,isCurrent:!0,isFocusVisible:!1}),N({...p,isCurrent:!1,isFocusVisible:!1}))},onBlur:()=>{N({...p,isCurrent:!1,isFocusVisible:!1})}}),onFocusUpdate:()=>{const e=Math.max(a.startIndex,Math.min(a.endIndex,p.groupIndex));N({...p,groupIndex:e,isCurrent:!0,isFocusVisible:!0})}}}}));
//# sourceMappingURL=useChartNav-a9d203a5.js.map
