define(['exports', './useDatatip-47bfb45e', './util-c6feaa07', 'preact/jsx-runtime', './VisTabularDatatip-8a2d9b95', './colorUtils-f7626960', './accUtils-e8b80434', './useUser-6c8723b4'], (function(e,s,t,r,i,a,o,n){"use strict";function u(e,s,t,r,i){const a=e.value,o=r?.value?.format?r?.value?.format?.(a):a,n=[];return 0!=r?.series?.isDisplayed&&n.push({key:r?.series?.label||"Series",value:s}),0!=r?.group?.isDisplayed&&n.push({key:r?.group?.label||(i?"Date":"Group"),value:t}),0!=r?.value?.isDisplayed&&n.push({key:r?.value?.label||"Value",value:o}),n}e.useChartDatatip=({isDataCursorEnabled:e,dataCursorPosition:o,isHoriz:l,datatip:d,xScale:p,getDataItem:x,getDataItemPos:c,hoveredItemInfo:m,focusedItemInfo:I,series:f,valueFormats:g,groups:v,width:b,height:y,findNearest:C,timeAxisType:D})=>{let A=I?.isCurrent?I:m?.isCurrent&&void 0!==m.seriesIndex&&void 0!==m.groupIndex?m:void 0;const h=I?.isCurrent||e?"element":"pointer",T=I?.isCurrent?c(I.seriesIndex,I.groupIndex):void 0,{direction:k}=n.useUser(),F="rtl"===k;let P,U,S="top-start",V=t.calculateOffset(F,b,T);if(e&&null!=o?.x&&null!=o?.y){A=A||C?.(o.x,o.y);const e=p.transform(o.x);V={mainAxis:-1,crossAxis:-1},l?(S="end",V.mainAxis=-10,V.crossAxis=e-y/2):(S="top",V.crossAxis=F?b/2-e:e-b/2,V.mainAxis=-10)}if(null!=A?.seriesIndex&&null!=A?.groupIndex){U=x(A.seriesIndex,A.groupIndex);const e=U?{data:U,seriesIndex:A.seriesIndex,groupIndex:A.groupIndex,id:U.id}:void 0;if(e){P=(d||function(e){const s="mixedFrequency"===e.timeAxisType,t="enabled"===e.timeAxisType||"skipGaps"===e.timeAxisType;return a=>{const o=e.groups.name||e.groups.id,n=s?a.data.x:t?o:void 0;return{content:r.jsx(i.VisTabularDatatip,{tableData:u(a.data,e.series.name||e.series.id.toString(),n||e.groups.name||e.groups.id,e.valueFormats,null!=e.timeAxisType)}),borderColor:a.data.color||e.series.color}}}({series:f[A.seriesIndex],groups:v[A.groupIndex],valueFormats:g,timeAxisType:D}))(e)}}const j=a.getColorRamp(),G=P?.borderColor||A&&(f[A.seriesIndex].color||f[A.seriesIndex].lineColor||f[A.seriesIndex].areaColor)||A&&j[A.seriesIndex%j.length],{datatipContent:q,datatipProps:w}=s.useDatatip({content:P?.content,anchor:h,placement:S,offset:V,borderColor:G});return{datatipContent:q,datatipProps:w}}}));
//# sourceMappingURL=useChartDatatip-68cbbec5.js.map
