define(['exports', 'preact/jsx-runtime', 'preact', 'preact/compat', './FormContext-598efe92', './useFormContext-9b29eeaf', './FormFieldContext-57ac57ba', 'preact/hooks', './useFocusableTextField-0a8d5c6d', './Label-16321133', './TextFieldInput-90149232', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-4085579c', './StyledTextField-9933e630', './TextField-ed261bdd', './MaxLengthLiveRegion-d4047f1f', './useTextField-5da71f2f', './logger-36c6eea0', './TabbableModeContext-c9143afd', './useTranslationBundle-20ce0acf', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-96d6436b', './CompactUserAssistance-b25c5537', './Floating-aaafdcf7', './TopLayerHost-d9bd8ecf', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./IconStyle.styles.css', './Popup-c6026a77', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-6c5f432c', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-68237bc5', './useCurrentValueReducer-6907b03d', './TextArea-d0c7423b'], (function(e,s,t,a,n,o,i,l,r,d,c,u,p,m,x,h,b,f,g,y,F,v,R,L,T,A,C,S,w,E,U,I,j,P,D,H,k,B,V,_,M,N){"use strict";const q=({isReadonly:e,enabledElementRef:s,readonlyElementRef:t,minRows:a=2,maxRows:n,value:o})=>{l.useLayoutEffect((()=>{const o=e?t:s;if(null===o.current)return;if(o.current instanceof HTMLDivElement)return;const i=o.current,l=(e=>{const s=window.getComputedStyle(e),t=s.lineHeight;if("normal"===t)return 1.2*parseFloat(s.fontSize);return parseFloat(t)})(i);i.style.height="0";const{paddingHeight:r,borderHeight:d}=(e=>{const s=window.getComputedStyle(e);return{paddingHeight:parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),borderHeight:parseFloat(s.borderTop)+parseFloat(s.borderBottom)}})(i),c=l*a+r+d,u=i.scrollHeight+d;let p=0;if(void 0===n)p=u<c?c:u;else if(n>a){const e=l*n+r+d;p=u>e?e:u<c?c:u}else p=c;i.style.height=p+.5+"px"}),[o,a,n,e,s,t])},W=a.forwardRef((({"aria-describedby":e,assistiveText:n,autoComplete:l="off",autoFocus:u=!1,columnSpan:f,helpSourceLink:g,helpSourceText:F,isDisabled:v,isReadonly:R,isRequired:A=!1,isRequiredShown:C,label:S,labelEdge:w,labelStartWidth:E,maxLength:U,maxLengthCounter:I="remaining",maxLengthUnit:j,maxRows:P,messages:D,minRows:H=2,placeholder:k,role:B,textAlign:V,userAssistanceDensity:W,value:z,variant:G="default",onInput:O,onCommit:J,testId:K},Q)=>{const X=y.useTranslationBundle("@oracle/oraclejet-preact"),Y=U?X.formControl_limitReached({CHARACTER_LIMIT:U}):"",{currentCommitValue:Z,dispatch:$}=M.useCurrentValueReducer({value:z}),ee=a.useCallback((e=>{$({type:"input",payload:e.value}),O?.(e)}),[O,$]),se=a.useCallback((e=>{$({type:"commit",payload:e.value}),J?.(e)}),[J,$]),{isDisabled:te,isReadonly:ae,labelEdge:ne,labelStartWidth:oe,textAlign:ie,userAssistanceDensity:le}=o.useFormContext(),re=v??te,de=R??ae,ce=w??ne,ue=E??oe,pe=V??ie,me=W??le,{enabledElementRef:xe,readonlyElementRef:he,focusProps:be,isFocused:fe}=r.useFocusableTextField({isDisabled:re,isReadonly:de,ref:Q}),{isMaxLengthExceeded:ge,isMaxLengthReached:ye,valueLength:Fe,onFilteredInput:ve}=_.useLengthFilter({maxLength:U,maxLengthUnit:j,value:z,onInput:ee,onCommit:se}),Re=[...D??[],...ye?[{detail:Y,severity:"info"}]:[]],{formFieldContext:Le,inputProps:Te,labelProps:Ae,textFieldProps:Ce,userAssistanceProps:Se}=b.useTextField({ariaDescribedBy:e,contentVariant:"textarea",helpSourceLink:g,helpSourceText:F,isDisabled:re,isFocused:fe,isReadonly:de,isRequiredShown:C,labelEdge:ce,messages:Re,styleVariant:G,userAssistanceDensity:me,value:z}),we=a.useCallback((()=>{const e=xe.current,s=e?e.value.length:null;xe.current?.setSelectionRange(s,s),xe.current?.focus()}),[xe]),Ee="none"!==ce?s.jsx(d.Label,{...Ae,children:S}):void 0,Ue={label:"none"!==ce?Ee:void 0,labelEdge:"none"!==ce?ce:void 0,labelStartWidth:"none"!==ce?ue:void 0},Ie="none"===ce?S:void 0,je="efficient"===me||"reflow"===me?re||de?"efficient"!==me?void 0:s.jsx(L.InlineUserAssistance,{userAssistanceDensity:me,...Se}):s.jsx(L.InlineUserAssistance,{assistiveText:n,fieldLabel:S,helpSourceLink:g,helpSourceText:F,messages:Re,isRequiredShown:C,userAssistanceDensity:me,...Se}):void 0,Pe=a.useRef(null),De="compact"===me?s.jsx(T.CompactUserAssistance,{anchorRef:Pe,messages:Re,assistiveText:n,...Se}):void 0;if(q({isReadonly:de,enabledElementRef:xe,readonlyElementRef:he,minRows:H,maxRows:P,value:z}),de){const e=s.jsx(p.ReadonlyTextFieldInput,{"aria-describedby":Te["aria-describedby"],"aria-label":Ie,"aria-labelledby":Ae.id,elementRef:he,...P?{as:"textarea",rows:H}:{as:"div"},autoFocus:u,textAlign:pe,value:z,variant:"textarea",hasEmptyLabel:""===S&&"none"===ce,hasInsideLabel:void 0!==S&&"inside"===ce});return s.jsx(i.FormFieldContext.Provider,{value:Le,children:s.jsx(m.ReadonlyTextField,{role:"presentation",colSpan:f,compactUserAssistance:De,inlineUserAssistance:je,variant:"textarea",mainContent:e,ref:Pe,testId:K,...Ue})})}const He=s.jsxs(t.Fragment,{children:[s.jsx(c.TextFieldInput,{as:"textarea","aria-label":Ie,autoComplete:l,autoFocus:u,currentCommitValue:Z,hasEmptyLabel:""===S&&"none"===ce,hasInsideLabel:void 0!==Ee&&"inside"===ce,isRequired:A,inputRef:xe,onCommit:se,onInput:ve,placeholder:k,role:B,rows:H,textAlign:pe,value:z,...Te}),"remaining"===I&&void 0!==U&&s.jsx(N.MaxLengthCounter,{maxLength:U,valueLength:Fe,parentHasFocus:fe,onClick:we}),void 0!==U&&s.jsx(h.MaxLengthLiveRegion,{isMaxLengthExceeded:ge,maxLength:U,valueLength:Fe})]});return s.jsx(i.FormFieldContext.Provider,{value:Le,children:s.jsx(x.TextField,{mainContent:He,columnSpan:f,compactUserAssistance:De,inlineUserAssistance:je,onBlur:be?.onfocusout,onFocus:be?.onfocusin,mainFieldRef:Pe,testId:K,...Ce,...Ue})})}));e.TextAreaAutosize=W}));
//# sourceMappingURL=TextAreaAutosize-2033cda7.js.map
