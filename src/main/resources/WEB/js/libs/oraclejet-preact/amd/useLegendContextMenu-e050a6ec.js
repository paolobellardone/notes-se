define(['exports', 'preact/jsx-runtime', './classNames-08d99695', 'preact/compat', './PRIVATE_BaseLegend/themes/LegendStyles.css', './useLegendDnd-126b0174', './SvgSymbol-328be71d', './Text-0609bf4d', 'preact/hooks', './useUser-abae2493', './datatipUtils-72a1fe48', './useDatatip-db874c22', './useContextMenu-599ada89', './Menu-bdd771bf', './MenuItem-dc85fcad', 'preact', './logger-0f873e29', './LayerHost-1b4d03f0', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-304eef18', 'css!./IconStyle.styles.css', './SelectMenuGroupContext-67f24a8f', './UNSAFE_Separator/themes/SeparatorStyles.css', 'css!./MenuSeparatorStyles.styles.css', 'module', './UNSAFE_Menu/themes/redwood/MenuSeparatorVariants.css'], (function(e,t,n,o,i,s,r,l,d,a,c,u,m,h,x,g,y,p,C,S,f,b,I,M,T,v,F,k){"use strict";function R(e){const{imageMarkerStyle:n}=i.styles;return t.jsx("img",{class:n,src:e.source,role:"none"})}const A=({markerColor:e="#a6acb1",lineColor:n="#a6acb1",markerShape:o="square",isHidden:s=!1,lineStyle:l="none",...d})=>{const{legendSymbolBaseStyle:a}=i.styles,c=!(null==d.width&&null==d.height)&&("rectangle"===o||"ellipse"===o),u="none"!=l&&"none"!=o?2:3;return t.jsx("div",{className:a,style:{width:d.width,height:d.height},children:d.source?t.jsx(R,{source:d.source}):t.jsx(r.SvgSymbol,{setAspectRatioNone:c,markerShape:s?"square":o,lineStyle:s?"none":l,lineColor:n,lineLength:d.lineLength,lineWidth:null!=d.lineWidth?d.lineWidth:u,markerColor:s?"transparent":e,borderColor:s?e||n:d.borderColor,setAbsolutePos:!0})})},w=({text:e,type:o="label",id:s,align:r="start",...d})=>{const{legendTextBaseStyle:a,legendTextTitle:c,legendTitleStartAlign:u,legendTitleCenterAlign:m,legendTitleEndAlign:h}=i.styles,x="title"===o;return t.jsx("div",{class:n.classNames([a,x?c:"",x&&"start"===r?u:"",x&&"center"===r?m:"",x&&"end"===r?h:""]),style:{...d},children:t.jsx(l.Text,{size:"inherit",variant:"inherit",weight:"inherit",truncation:"ellipsis",id:s,children:e})})},L=o.forwardRef((({id:e,text:o,sectionIdx:r,itemIdx:l,itemId:d,isHighlighted:a,symbolHeight:c,symbolWidth:u,isFocused:m,isCurrent:h,isHidden:x,actionable:g="inherit",hoverBehavior:y="none",hideAndShowBehavior:p="off",...C},S)=>{const f={fontFamily:C.textFontFamily,fontSize:C.textFontSize,color:C.textColor,fontStyle:C.textFontStyle,fontWeight:C.textFontWeight,textDecoration:C.textTextDecoration},b={lineStyle:C.lineStyle,lineWidth:C.lineWidth,markerShape:C.markerShape,markerColor:C.markerColor,source:C.source,borderColor:C.borderColor,lineColor:C.lineColor},I=a||null==a,{legendItemBaseStyle:M,legendItemOpacity:T,legendItemFocusRing:v}=i.styles;return t.jsxs("div",{class:n.classNames([M,s.getLegendCurrentItemStyle(h,a,p,y,x,g),I?"":T,m?v:"",C.class]),style:{gridRow:C.gridRow,gridColumn:C.gridCol,minWidth:void 0!==C.minWidth?`${C.minWidth}px`:void 0},id:e,ref:S,"data-oj-section":r,"data-oj-item":l,"data-oj-private-item-id":d,role:null!=x?"menuitemcheckbox":"img","aria-checked":null!=x?!x:void 0,"aria-label":C["aria-label"]||o,children:[t.jsx(A,{...b,isHidden:x,lineLength:u,width:null!=u?`${u}px`:void 0,height:null!=c?`${c}px`:void 0}),t.jsx(w,{...f,text:o,type:"label"})]})})),W=(e,t,n,o)=>{let i=0,s=c.DATATIP_OFFSET;if(e.current&&n.isCurrent&&t.current){const n=t.current,r=e.current.getBoundingClientRect();i=r.x+r.width/2-(n.x+n.width/2),i=o?-1*i:i,s+=n.y-r.y,s=Math.min(c.DATATIP_OFFSET,Math.max(s,r.height-n.height+c.DATATIP_OFFSET))}return{crossAxis:i,mainAxis:s}};e.BaseLegend=({orientation:e="horizontal",highlightedIds:o,hiddenIds:r,focusedItemInfo:l,hoveredItemInfo:d,sectionIdx:a,activeId:c,isReadOnly:u,items:m,symbolHeight:h,symbolWidth:x,hideAndShowBehavior:g="off",hoverBehavior:y="none",isTestEnv:p,...C})=>{const S="horizontal"===e,f=S?`repeat(${C.itemsPerRow}, ${C.itemWidth})`:void 0,{baseLegendStyles:b,baseLegendHorizontal:I,baseLegendVertical:M,baseLegendVerticalItem:T,baseLegendPaddingBottom:v,baseLegendPaddingTop:F,baseLegendPaddingEnd:k}=i.styles;return t.jsx("div",{className:n.classNames([b,S?I:M]),style:{gridTemplateColumns:f,maxWidth:"100%"},children:m.map(((e,i)=>{const{markerColor:f,markerShape:b,source:I,borderColor:M,lineColor:R,isCurrent:A,isFocused:w,isHidden:W,isHighlighted:D,key:P,actionable:j,text:B,lineStyle:H,lineWidth:E}=s.getItemProps(e,i,a,l,u,d,r,o),N=l.sectionIdx===a&&l.itemIdx===i,{gridRow:O,gridCol:U}=s.getGridCellIndices(m.length,i,C.itemsPerRow,C.itemsPerCol),_=null!=O&&O!=C.itemsPerCol,z=null!=O&&1!=O;return t.jsx(L,{ref:N?C.focusedItemRef:void 0,text:B,itemIdx:i,sectionIdx:a,itemId:p?e.id:void 0,symbolHeight:h,symbolWidth:x,markerColor:f,markerShape:b,lineStyle:H,lineWidth:E,source:I,borderColor:M,"aria-label":e["aria-label"],lineColor:R,isCurrent:A,isFocused:w,isHidden:W,isHighlighted:D,gridRow:O,gridCol:U,minWidth:C.itemWidth,id:A?c:"",textColor:C.textColor,textFontFamily:C.textFontFamily,textFontSize:C.textFontSize,textFontStyle:C.textFontStyle,textFontWeight:C.textFontWeight,textTextDecoration:C.textTextDecoration,class:n.classNames([S?"":T,z?F:"",_?v:"",k]),hideAndShowBehavior:g,hoverBehavior:y,actionable:j},P)}))})},e.LegendText=w,e.useLegendContextMenu=({rootRef:e,contextMenuConfig:t,focusedItemInfo:n,items:o,isReadOnly:i,onContextMenuDismissed:r})=>{const{contextMenuProps:l,contextMenuContent:d}=m.useContextMenu({onContextMenuHandler:({gesture:t,target:i})=>{if("keyboard"===t){const t=n.itemIdx,i=e.current?.querySelector(`[data-oj-item="${t}"]`)||null;return{type:"element",context:{type:"item",data:o[t]},elem:i}}const r=s.getItemInfo(i)?.itemIdx,l=void 0!==r?o[r]:null;return{type:"pointer",context:l?{type:"item",data:l}:{type:"background"}}},contextMenuOptions:{isDisabled:!t||i},rootRef:e,contextMenuConfig:t,onContextMenuDismissed:r});return{contextMenuContent:d,contextMenuProps:l}},e.useLegendDatatip=({text:e,rootDimsRef:t,focusedItemRef:n,focusedItemInfo:o,touchResponse:i,isDisabled:s})=>{const{direction:r}=a.useUser(),l="rtl"===r,[c,m]=d.useState(W(n,t,o,l));d.useLayoutEffect((()=>{m(W(n,t,o,l))}),[o,n,l,t]);const h=o?.isCurrent?"element":"pointer";return u.useDatatip({content:e,placement:"top",anchor:h,offset:c,touchResponse:i,isDisabled:s})},e.useSectionalLegendContextMenu=({rootRef:e,contextMenuConfig:t,focusedItemInfo:n,sections:o,isReadOnly:i,onContextMenuDismissed:r})=>{const{contextMenuProps:l,contextMenuContent:d}=m.useContextMenu({onContextMenuHandler:({gesture:t,target:i})=>{if("keyboard"===t){const t=n.itemIdx,i=n.sectionIdx,s=o[i]?.items[t];if(s){return{type:"element",context:{type:"item",itemIndexPath:[i,t],data:s},elem:e.current?.querySelector(`[data-oj-item="${t}"][data-oj-section="${i}"]`)||null}}}const r=s.getItemInfo(i)?.itemIdx,l=s.getItemInfo(i)?.sectionIdx,d=void 0!==l&&void 0!==r?o[l]?.items[r]:null;return{type:"pointer",context:d?{type:"item",data:d,itemIndexPath:[l,r]}:{type:"background"}}},contextMenuOptions:{isDisabled:!t||i},rootRef:e,contextMenuConfig:t,onContextMenuDismissed:r});return{contextMenuContent:d,contextMenuProps:l}}}));
//# sourceMappingURL=useLegendContextMenu-e050a6ec.js.map
