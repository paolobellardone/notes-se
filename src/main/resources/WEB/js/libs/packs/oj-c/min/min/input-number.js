define("oj-c/hooks/UNSAFE_useMergedFormContext/useMergedFormContext",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useFormContext"],(function(require,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useMergedFormContext=function({propContainerReadonly:e,propLabelWrapping:t,propReadonly:s,propUserAssistanceDensity:r}){const n=(0,a.useFormContext)(),u=r??n.userAssistanceDensity,l=s??n.isReadonly,{isFormLayout:i,isReadonly:o,labelWrapping:d,...c}=n;return{containerProps:{...c,isFormLayout:void 0!==e||i,isReadonly:e??o,labelWrapping:t??d},readonlyValue:l,uadValue:u}}})),define("oj-c/editable-value/UNSAFE_useAssistiveText/useAssistiveText",["require","exports","preact/hooks"],(function(require,e,a){"use strict";function t(e,a,t,s,r,n){const u="compact"!==n?t?.definition:void 0;return e?.instruction||("none"===r?.validatorHint?void 0:a)||u||("none"===r?.converterHint?void 0:s)}function s(e){if(!e.length)return;return e.map((e=>"function"==typeof e.getHint?e.getHint():void 0)).filter(Boolean).join("\n")}Object.defineProperty(e,"__esModule",{value:!0}),e.useAssistiveText=function({addBusyState:e,converter:r,displayOptions:n,help:u,helpHints:l,userAssistanceDensity:i,validators:o}){const[d,c]=(0,a.useState)(o&&o.length?s(o):void 0),p=(0,a.useRef)();(0,a.useEffect)((()=>{if(!o||!o.length)return void c(void 0);c(s(o));const a=o.map((e=>e.hint)).filter(Boolean),t=p.current=Symbol(),r=e?.("resolving the async validator hints");Promise.allSettled(a).then((e=>{c((a=>{const s=e.map((e=>"fulfilled"===e.status?e.value:void 0)).filter(Boolean);return t===p.current&&s.length?[a,...s].join("\n"):a})),r?.()}))}),[o]);const v="compact"!==i?l?.sourceText:l?.definition||l?.sourceText;return{assistiveText:t(u,d,l,r?.getHint?.()??void 0,n,i),helpSourceLink:l?.source,helpSourceText:v}}})),define("oj-c/hooks/UNSAFE_useEditableValue/utils",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treatNull=e.normalizeValue=e.isShallowEqual=e.hasErrorMessages=e.getVirtualKeyboardHintFromConverter=e.createMessageFromError=void 0;e.createMessageFromError=e=>"function"==typeof e.getMessage?{severity:"error",detail:e.getMessage().detail}:{severity:"error",detail:e.message};e.treatNull=(e,a)=>null===e?a:e;e.normalizeValue=e=>"string"==typeof e&&""===e?null:e;e.isShallowEqual=(e,a)=>e===a||e.length===a.length&&e.every(((e,t)=>e===a[t]));e.hasErrorMessages=e=>!!e&&e.some((e=>"error"===e.severity));e.getVirtualKeyboardHintFromConverter=e=>{let a;if(e&&e.resolvedOptions){const t=e.resolvedOptions();a=t?.virtualKeyboardHint??"text"}else a="text";return a}})),define("oj-c/hooks/UNSAFE_useEditableValue/converterUtils",["require","exports","./utils"],(function(require,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.format=function(e,t,s){if(function(e){return null===e}(e))return{result:"success",value:t};try{return{result:"success",value:s.format(e)}}catch(e){return{result:"failure",error:(0,a.createMessageFromError)(e)}}},e.parse=function(e,t,s){if(void 0===e)return{result:"success",value:null};if(r=e,""===r||null===r)return{result:"success",value:e};var r;try{return{result:"success",value:t.parse(e)}}catch(e){return{result:"failure",error:s?.(e)??(0,a.createMessageFromError)(e)}}}})),define("oj-c/editable-value/UNSAFE_useStaleIdentity/useStaleIdentity",["require","exports","preact/hooks"],(function(require,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useStaleIdentity=function(){const e=(0,a.useRef)(new Map);return{setStaleIdentity:(0,a.useCallback)((a=>{const t=Symbol();return e.current.set(a,t),{isStale:()=>t!==e.current.get(a)}}),[])}}})),define("oj-c/hooks/UNSAFE_useEditableValue/reducer",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reducer=function(e,a){const t=e.customMessages??[],s=e.hiddenMessages,r=e.componentMessages,n=e.shownMessages;switch(a.type){case"ADD_COMPONENT_MESSAGE":return{...e,componentMessages:[...r,a.payload],shownMessages:[...n,a.payload]};case"ADD_HIDDEN_MESSAGE":return{...e,hiddenMessages:[...s,a.payload]};case"CLEAR_ALL_MESSAGES":return{...e,shownMessages:[],hiddenMessages:[],customMessages:[],componentMessages:[]};case"SHOW_HIDDEN_MESSAGES":return 0===s.length?e:{...e,hiddenMessages:[],shownMessages:[...t,...r,...s]};case"UPDATE_DISPLAY_VALUE":return{...e,displayValue:a.payload};case"UPDATE_VALID":return{...e,valid:a.payload};case"UPDATE_VALUE":return{...e,value:a.payload};case"UPDATE_TRANSIENT_VALUE":return{...e,transientValue:a.payload};case"UPDATE_PREVIOUS_CONVERTER":return{...e,previousConverter:a.payload};case"UPDATE_PREVIOUS_DEFERRED_VALIDATORS":return{...e,previousDeferredValidators:a.payload};case"UPDATE_PREVIOUS_DISABLED":return{...e,previousDisabled:a.payload};case"UPDATE_PREVIOUS_READONLY":return{...e,previousReadonly:a.payload};case"UPDATE_PREVIOUS_VALIDATORS":return{...e,previousValidators:a.payload};case"UPDATE_PREVIOUS_VALUE":return{...e,previousValue:a.payload};case"UPDATE_COMPONENT_MESSAGES":return{...e,componentMessages:a.payload,shownMessages:[...t,...a.payload]};case"UPDATE_HIDDEN_MESSAGES":return{...e,hiddenMessages:a.payload};case"UPDATE_CUSTOM_MESSAGES":return{...e,customMessages:a.payload,shownMessages:[...a.payload,...r]};default:return e}},e.addComponentMessage=function(e,a){e({type:"ADD_COMPONENT_MESSAGE",payload:a})},e.addHiddenMessage=function(e,a){e({type:"ADD_HIDDEN_MESSAGE",payload:a})},e.clearAllMessages=function(e,a,{onMessagesCustomChanged:t}){e({type:"CLEAR_ALL_MESSAGES"}),t?.([])},e.showHiddenMessages=function(e){e({type:"SHOW_HIDDEN_MESSAGES"})},e.updateComponentMessages=function(e,a){e({type:"UPDATE_COMPONENT_MESSAGES",payload:a})},e.updateCustomMessages=function(e,a){e({type:"UPDATE_CUSTOM_MESSAGES",payload:a})},e.updateDisplayValue=function(e,a,{onRawValueChanged:t}){e({type:"UPDATE_DISPLAY_VALUE",payload:a}),t?.(a)},e.updateHiddenMessages=function(e,a){e({type:"UPDATE_HIDDEN_MESSAGES",payload:a})},e.updatePreviousConverter=function(e,a){e({type:"UPDATE_PREVIOUS_CONVERTER",payload:a})},e.updatePreviousDeferredValidators=function(e,a){e({type:"UPDATE_PREVIOUS_DEFERRED_VALIDATORS",payload:a})},e.updatePreviousDisabled=function(e,a){e({type:"UPDATE_PREVIOUS_DISABLED",payload:a})},e.updatePreviousReadonly=function(e,a){e({type:"UPDATE_PREVIOUS_READONLY",payload:a})},e.updatePreviousValidators=function(e,a){e({type:"UPDATE_PREVIOUS_VALIDATORS",payload:a})},e.updatePreviousValue=function(e,a){e({type:"UPDATE_PREVIOUS_VALUE",payload:a})},e.updateTransientValue=function(e,a,{onTransientValueChanged:t}){e({type:"UPDATE_TRANSIENT_VALUE",payload:a}),t?.(a)},e.updateValidStatus=function(e,a,{onValidChanged:t}){e({type:"UPDATE_VALID",payload:a}),t?.(a)},e.updateValue=function(e,a,{onValueChanged:t}){e({type:"UPDATE_VALUE",payload:a}),t?.(a)}})),define("oj-c/hooks/UNSAFE_useEditableValue/validationUtils",["require","exports","./utils"],(function(require,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateAsync=function({validators:e,value:t}){const s=(e,t)=>{try{const s=e.validate(t);if(s instanceof Promise)return s.then((()=>{}),(e=>({message:(0,a.createMessageFromError)(e),messageDisplayStrategy:e?.messageDisplayStrategy})))}catch(e){return{message:(0,a.createMessageFromError)(e),messageDisplayStrategy:e?.messageDisplayStrategy}}},r=[],n=[];for(const a of e){const e=s(a,t);void 0!==e&&(e instanceof Promise?n.push(e):r.push(e))}return{errors:r,maybeErrorPromises:n}},e.validateSync=function({validators:e,value:t}){const s=[];for(const r of e)try{r.validate(t)}catch(e){s.push((0,a.createMessageFromError)(e))}if(s.length)return{result:"failure",errors:s};return{result:"success"}}})),define("oj-c/hooks/UNSAFE_useEditableValue/useEditableValue",["require","exports","preact/hooks","./converterUtils","./utils","oj-c/editable-value/UNSAFE_useStaleIdentity/useStaleIdentity","./reducer","./validationUtils"],(function(require,e,a,t,s,r,n,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useEditableValue=function({addBusyState:e,ariaDescribedBy:l,converter:i,defaultDisplayValue:o,deferredValidators:d,disabled:c,displayOptions:p,messagesCustom:v,onDisplayValueChanged:g,onMessagesCustomChanged:y,onRawValueChanged:m,onTransientValueChanged:f,onValidChanged:b,onValueChanged:h,translateConverterParseError:V,readonly:S,validators:E,value:M}){const C=(0,a.useRef)(!0),{setStaleIdentity:D}=(0,r.useStaleIdentity)(),[_,A]=(0,a.useReducer)(n.reducer,{shownMessages:[],hiddenMessages:[],customMessages:v,componentMessages:[],value:M,valid:"pending"},(e=>{const a=i?(0,t.format)(M,o,i):{result:"success",value:(0,s.treatNull)(M,o)};return{...e,displayValue:"success"===a.result?a.value:o}})),P=(0,a.useRef)(),R=(0,a.useRef)(!1),x=(0,a.useCallback)((e=>{e!==P.current&&(P.current=e,b?.(e))}),[b]),N=(0,a.useCallback)(((e,a)=>(e(A,a,{onMessagesCustomChanged:y,onRawValueChanged:m,onTransientValueChanged:f,onValidChanged:x,onValueChanged:h}),!0)),[A,y,m,f,x,h]),w=(0,a.useCallback)((e=>{const a="string"==typeof e?e.trim():e;return(0,u.validateSync)({validators:d??[],value:a})}),[d]),U=(0,a.useCallback)((e=>{N(n.updateValue,e)}),[N]),O=(0,a.useCallback)((e=>{N(n.updateDisplayValue,e)}),[N]),j=(0,a.useCallback)((e=>{N(n.updateTransientValue,e)}),[N]),T=(0,a.useCallback)((e=>{let a;if(i){const r=(0,t.format)(e,o,i);"failure"===r.result?(N(n.updateComponentMessages,[r.error]),N(n.updateValidStatus,"invalidShown"),a=(0,s.treatNull)(e,o)):a=r.value}else a=(0,s.treatNull)(e,o);return a}),[i,o,N]),I=(0,a.useCallback)((e=>{const a=T(e);return N(n.updateDisplayValue,a),g?.(),!0}),[N,T,g]),F=(0,a.useCallback)((()=>"invalidShown"!==_.valid?{result:"success",value:_.value}:i?(0,t.parse)((0,s.normalizeValue)(_.displayValue),i,V):{result:"success",value:(0,s.normalizeValue)(_.displayValue)}),[i,_.displayValue,_.valid,_.value,V]),k=(0,a.useCallback)((e=>i?(0,t.parse)((0,s.normalizeValue)(e),i,V):{result:"success",value:(0,s.normalizeValue)(e)}),[i,V]),H=(0,a.useCallback)((e=>{const a=k(e);return"failure"===a.result&&(N(n.updateComponentMessages,[a.error]),N(n.updateValidStatus,"invalidShown")),a}),[N,k]),L=(0,a.useCallback)((async(a,t={})=>{const{doNotClearMessagesCustom:r=!1,forceHiddenMessagesToBeShown:l=!1}=t,i=r&&(0,s.hasErrorMessages)(v);if(r?(N(n.updateComponentMessages,[]),N(n.updateHiddenMessages,[])):N(n.clearAllMessages),!(E&&0!==E.length||d&&0!==d.length))return N(n.updateValidStatus,i?"invalidShown":"valid"),!0;const o=[],c=[],p=w(a);let g;"failure"===p.result&&o.push(...p.errors),null!=a&&(g=(0,u.validateAsync)({validators:E??[],value:a}),g.errors.forEach((({message:e,messageDisplayStrategy:a})=>{"displayOnBlur"!==a||R.current||l?o.push(e):c.push(e)})));const y=g?.maybeErrorPromises??[],m=0!==o.length||0!==c.length;if(!m&&!y.length)return N(n.updateValidStatus,i?"invalidShown":"valid"),!0;if(0!==o.length?(N(n.updateComponentMessages,o),N(n.updateValidStatus,"invalidShown")):0!==c.length&&(N(n.updateHiddenMessages,c),N(n.updateValidStatus,"invalidHidden")),!y.length)return!m;!m&&N(n.updateValidStatus,"pending");const f=e?.("running asynchronous validation"),{isStale:b}=D("useEditableValue-full-validate");let h=!1,V=!1;const S=[];for(const e of y){const a=e.then((e=>{if(e&&!b()){const{messageDisplayStrategy:a,message:t}=e;"displayOnBlur"!==a||R.current||l?(N(n.addComponentMessage,t),h=!0):(N(n.addHiddenMessage,t),V=!0)}}));S.push(a)}await Promise.all(S);const M=V||h,C=V||0!==c.length,_=h||0!==o.length;return b()||(m||M?_?N(n.updateValidStatus,"invalidShown"):C&&N(n.updateValidStatus,i?"invalidShown":"invalidHidden"):N(n.updateValidStatus,i?"invalidShown":"valid")),f?.(),!m&&!M}),[e,N,d,v,D,w,E]),q=async()=>{if(c||S)return;const e=F();if("failure"===e.result)return N(n.updateComponentMessages,[e.error]),void N(n.updateValidStatus,"invalidShown");const a=e.value;await G(a,{doNotClearMessagesCustom:!0})&&N(n.updateValue,a)&&I(a)},B=(0,a.useCallback)((e=>{N(n.clearAllMessages);const a=w(e);return"failure"===a.result&&N(n.updateHiddenMessages,a.errors),N(n.updateValidStatus,"failure"===a.result?"invalidHidden":"valid"),!0}),[N,w]),G=(0,a.useCallback)((async(a,t={})=>{const{isStale:s}=D("useEditableValue-validateValueOnInternalChange"),r=e?.("Running validateValueOnInternalChange"),n=await L(a,t);return r?.(),!s()&&n}),[e,L,D]),K=(0,a.useCallback)((async(e,a=!0)=>{const t=await G(e);return t&&a&&N(n.updateValue,e),t&&(R.current=!0),t}),[N,G]),W=(0,a.useCallback)((async({value:e})=>{const a=H(e);if("failure"===a.result)return!1;const t=a.value,s=await K(t);return s&&I(t),s}),[K,H,I]),z=(0,a.useCallback)((({value:e})=>{N(n.updateDisplayValue,e??o)}),[N,o]),Y=(0,a.useCallback)((async()=>{if(S||c)return"valid";const a=H(_.displayValue);if("failure"===a.result)return"invalid";const t=a.value,s=e?.("Running component method validate"),r=await L(t,{forceHiddenMessagesToBeShown:!0});return s?.(),r?(t!==_.value&&(N(n.updateValue,t),I(t)),"valid"):"invalid"}),[e,c,N,L,H,S,I,_.displayValue,_.value]),$=(0,a.useCallback)((()=>{B(_.value),I(_.value)}),[I,_.value,B]),J=(0,a.useCallback)((()=>{_.hiddenMessages&&_.hiddenMessages.length>0&&(N(n.showHiddenMessages),N(n.updateValidStatus,"invalidShown"))}),[N,_.hiddenMessages]),Q=(0,a.useCallback)((()=>{R.current=!1}),[]),X=(0,a.useCallback)((e=>{N(n.addComponentMessage,e)}),[N]);C.current||_.previousValue===M||(N(n.updatePreviousValue,M),M!==_.value&&(B(M),N(n.updateValue,M),I(M)));C.current||_.previousConverter===i||(N(n.updatePreviousConverter,i),"invalidShown"!==_.valid&&I(M),"invalidShown"===_.valid&&q());C.current||_.previousValidators===E||(N(n.updatePreviousValidators,E),"invalidShown"===_.valid&&q());if(!C.current&&(!_.customMessages&&v||_.customMessages&&!v||_.customMessages&&v&&!(0,s.isShallowEqual)(_.customMessages,v))){const e=_.componentMessages??[],a=_.hiddenMessages??[],t=v??[],r=(0,s.hasErrorMessages)(t),u=a.length>0,l=0===e.length&&0===a.length&&0===t.length;N(n.updateCustomMessages,t),r&&N(n.updateValidStatus,"invalidShown"),!r&&"pending"!==_.valid&&(l&&N(n.updateValidStatus,"valid")||u&&N(n.updateValidStatus,"invalidHidden"))}if(!C.current&&(_.previousDeferredValidators!==d||_.previousDisabled!==c||_.previousReadonly!==S)){const e=0===d?.length;if(_.previousDeferredValidators!==d&&N(n.updatePreviousDeferredValidators,d),_.previousDisabled!==c&&N(n.updatePreviousDisabled,c),_.previousReadonly!==S&&N(n.updatePreviousReadonly,S),e||!S&&!c)switch(_.valid){case"valid":const e=F();if("failure"===e.result)N(n.updateComponentMessages,[e.error]),N(n.updateValidStatus,"invalidShown");else{const a=w(e.value);"failure"===a.result&&N(n.updateHiddenMessages,a.errors)&&N(n.updateValidStatus,"invalidHidden")}break;case"invalidHidden":0===d?.length&&(N(n.updateValidStatus,"valid"),N(n.updateHiddenMessages,[]));break;case"invalidShown":q()}}if(C.current)if(C.current=!1,N(n.updatePreviousValue,M),N(n.updatePreviousConverter,i),N(n.updatePreviousValidators,E),N(n.updatePreviousDeferredValidators,d),N(n.updatePreviousDisabled,c),N(n.updatePreviousReadonly,S),N(n.updateCustomMessages,v),N(n.updateTransientValue,M),c||S)N(n.updateValidStatus,"valid"),I(M);else{const e=w(M);"failure"===e.result&&N(n.updateHiddenMessages,e.errors)&&N(n.updateValidStatus,(0,s.hasErrorMessages)(v)?"invalidShown":"invalidHidden"),"success"===e.result&&N(n.updateValidStatus,(0,s.hasErrorMessages)(v)?"invalidShown":"valid")&&I(M)}return{value:_.value,addMessage:X,clearInteractionFlags:Q,displayValue:_.displayValue,formatValue:T,methods:{reset:$,showMessages:J,validate:Y},onCommitValue:K,parseValue:H,refreshDisplayValue:I,setDisplayValue:O,setTransientValue:j,setValue:U,textFieldProps:{"aria-describedby":l,messages:"none"!==p?.messages?_.shownMessages:void 0,onCommit:W,onInput:z,value:_.displayValue},validateValueOnExternalChange:B}}})),define("oj-c/hooks/UNSAFE_useEditableValue/index",["require","exports","./utils","./useEditableValue"],(function(require,e,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useEditableValue=e.treatNull=e.getVirtualKeyboardHintFromConverter=void 0,Object.defineProperty(e,"getVirtualKeyboardHintFromConverter",{enumerable:!0,get:function(){return a.getVirtualKeyboardHintFromConverter}}),Object.defineProperty(e,"treatNull",{enumerable:!0,get:function(){return a.treatNull}}),Object.defineProperty(e,"useEditableValue",{enumerable:!0,get:function(){return t.useEditableValue}})})),define("oj-c/editable-value/UNSAFE_useDeferredValidators/useDeferredValidators",["require","exports","ojs/ojvalidator-required","preact/hooks","@oracle/oraclejet-preact/hooks/UNSAFE_useTranslationBundle"],(function(require,e,a,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDeferredValidators=function({labelHint:e,required:r,requiredMessageDetail:n}){const u=(0,s.useTranslationBundle)("@oracle/oraclejet-preact"),l=n||u.formControl_requiredMessageDetail(),i=(0,t.useMemo)((()=>r?new a({label:e,messageDetail:l}):null),[r]);return(0,t.useMemo)((()=>[i].filter(Boolean)),[i])}})),define("oj-c/input-number/useImplicitNumberConverter",["require","exports","ojs/ojconverter-nativenumber","preact/hooks"],(function(require,e,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useImplicitNumberConverter=function({converter:e}){return(0,t.useMemo)((()=>e??new a.NumberConverter),[e])}})),define("oj-c/input-number/useImplicitNumberRangeValidator",["require","exports","preact/hooks","ojs/ojvalidator-numberrange"],(function(require,e,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useImplicitNumberRangeValidator=function({converter:e,max:s,min:r,numberRangeExactMessageDetail:n,numberRangeOverflowMessageDetail:u,numberRangeUnderflowMessageDetail:l}){return(0,a.useMemo)((()=>void 0!==r||void 0!==s?new t({converter:e,max:s,min:r,messageDetail:{exact:n,rangeOverflow:u,rangeUnderflow:l}}):null),[e,r,s,n,u,l])}})),define("oj-c/input-number/stepBasisUtils",["require","exports"],(function(require,e){"use strict";function a(e,a,t,s,r,n){let u=null!=n?n:s;null==u&&(u=0);try{t=parseFloat(t.toFixed(0))}catch(e){e instanceof TypeError&&(t=+t)}let l=t-u,i=Math.round(l/a)*a;i=parseFloat(i.toFixed(0));let o;if(i===l?o=t+e:(l=e<0?Math.ceil(l/a)*a:Math.floor(l/a)*a,o=u+l+e),o=parseFloat(o.toFixed(0)),null!=n&&o<n)return n;if(null!=r&&o>r){let e=Math.floor((r-u)/a)*a+u;return e=parseFloat(e.toFixed(0)),e}return o}function t(e){const a=e.toString(),t=a.indexOf(".");return-1===t?0:a.length-t-1}Object.defineProperty(e,"__esModule",{value:!0}),e.determineSteppedValue=function(e,s,r,n,u,l){const i=function(e,a,s){let r=t(e);null!=s&&(r=Math.max(r,t(s)));null!=a&&(r=Math.max(r,t(a)));return r}(s,n,l);if(i>0){const t=Math.pow(10,i),o=void 0!==l?Math.round(l*t):l,d=null!=u?Math.round(u*t):u,c=Math.round(s*t);return a(Math.round(e*t),c,Math.round(r*t),null!=n?Math.round(n*t):n,d,o)/t}return a(e,s,r,n,u,l)}})),define("oj-c/input-number/useNumberInputTextPreact",["require","exports","preact/hooks","oj-c/hooks/UNSAFE_useEditableValue/index","oj-c/editable-value/UNSAFE_useDeferredValidators/useDeferredValidators","./useImplicitNumberConverter","./useImplicitNumberRangeValidator","preact/hooks","./stepBasisUtils","@oracle/oraclejet-preact/hooks/UNSAFE_useTranslationBundle","ojs/ojconverter-nativenumber"],(function(require,e,a,t,s,r,n,u,l,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useNumberInputTextPreact=function({autocomplete:e="on",autofocus:d,converter:c,disabled:p,displayOptions:v,inputPrefix:g,inputSuffix:y,labelEdge:m,labelHint:f,labelStartWidth:b,max:h,messagesCustom:V,min:S,numberRangeExactMessageDetail:E,numberRangeOverflowMessageDetail:M,numberRangeUnderflowMessageDetail:C,placeholder:D,readonly:_,required:A,requiredMessageDetail:P,step:R,stepperVariant:x,textAlign:N,userAssistanceDensity:w,validators:U,value:O,virtualKeyboard:j,onMessagesCustomChanged:T,onRawValueChanged:I,onTransientValueChanged:F,onValidChanged:k,onValueChanged:H,...L},q){const B=(0,t.treatNull)(S),G=(0,t.treatNull)(h),K=(0,r.useImplicitNumberConverter)({converter:c}),W=(0,n.useImplicitNumberRangeValidator)({converter:K,max:G,min:B,numberRangeExactMessageDetail:E,numberRangeOverflowMessageDetail:M,numberRangeUnderflowMessageDetail:C}),z=(0,a.useMemo)((()=>[...W?[W]:[],...U||[]]),[W,U]),Y=(0,s.useDeferredValidators)({labelHint:f,required:A,requiredMessageDetail:P}),$=(0,i.useTranslationBundle)("@oracle/oraclejet-preact").inputNumber_converterParseError(),J=(0,u.useCallback)((e=>e?.cause===o.USER_INPUT_ERROR?{severity:"error",detail:$}:void 0),[$]),{onCommitValue:Q,formatValue:X,parseValue:Z,methods:ee,textFieldProps:ae,value:te,setValue:se,displayValue:re,setDisplayValue:ne,setTransientValue:ue}=(0,t.useEditableValue)({addBusyState:q,ariaDescribedBy:L["aria-describedby"],converter:K,defaultDisplayValue:"",deferredValidators:Y,disabled:p,displayOptions:v,messagesCustom:V,onMessagesCustomChanged:T,onRawValueChanged:I,onTransientValueChanged:F,onValidChanged:k,onValueChanged:H,readonly:_,translateConverterParseError:J,validators:z,value:O}),le=void 0!==B,ie=void 0!==G,oe=(0,u.useRef)(!1),de=(0,u.useRef)(new Array),ce=(0,u.useRef)(re),pe=(0,u.useRef)((0,t.treatNull)(O));O!==te&&(pe.current=(0,t.treatNull)(O));const[ve,ge]=(0,u.useState)((0,t.treatNull)(te)),[ye,me]=(0,u.useState)(te);te!==ye&&(me(te),ge((0,t.treatNull)(te)),ue(te));const[fe,be]=(0,u.useState)(!1);ce.current=re;const he=(0,u.useCallback)((async({value:e})=>{be(!1);const a=Z(e);if("failure"===a.result)return void ge(void 0);const t=a.value;if(await Q(t)){const e=X(t);ne(e)}else ge(t??void 0)}),[X,Z,Q,ne]),Ve=(0,u.useCallback)((({value:e})=>{ne(e??""),be(!0)}),[ne]),Se={...ae,onCommit:he,onInput:Ve},Ee=(0,u.useCallback)((async(e,a)=>{if(void 0===R||oe.current)return;const t=ce.current||"0",s=Z(t);if("failure"===s.result)return;const r=s.value;let n;if(void 0!==e){const a="increase"===e?R:-1*R;n=(0,l.determineSteppedValue)(a,R,r,pe.current,G,B)}else n=r;oe.current=!0;const u=X(n);ne(u),ce.current=u;const i=await Q(n,a),o=a&&i;!1===a&&i&&ue(n),o||ge(n),oe.current=!1}),[X,G,B,Z,Q,ne,ue,R]),Me=(0,u.useCallback)((async e=>{if(await Ee(e,!0),de.current.length>0){const e=de.current.shift();Me(e)}}),[Ee]),Ce=(0,u.useCallback)((async({direction:e})=>{oe.current?de.current.push(e):Me(e)}),[Me]),De=(0,u.useCallback)((async({direction:e})=>{de.current=[],Ee(e,!1)}),[Ee]),_e=(0,u.useCallback)((async()=>{const e=Z(ce.current);"failure"!==e.result&&await Q(e.value)}),[Q,Z]),Ae=(0,u.useRef)(),Pe=(0,u.useRef)(),Re=(0,u.useRef)(),xe=(0,u.useRef)();let Ne;fe!==Re.current||re!==Pe.current||ve!==Ae.current?(Ne=function(e,a,t,s){if(!e)return""!==a?a:void 0;let r;t&&(r=s(t));return""===r||null===r?void 0:r}(fe,re,ve,X),Re.current=fe,Pe.current=re,Ae.current=ve,xe.current=Ne):Ne=xe.current;const we="auto"===j?(0,t.getVirtualKeyboardHintFromConverter)(K):j;return{value:te,setValue:se,methods:ee,inputNumberProps:{"aria-valuemax":G,"aria-valuemin":B,"aria-valuenow":ve??void 0,"aria-valuetext":Ne,autoComplete:e,autoFocus:d,hasSteppers:void 0!==R&&R>0,isDisabled:p,isReadonly:_,isRequired:A,isRequiredShown:A&&("compact"===w||void 0===(0,t.treatNull)(te)),label:f,labelEdge:m,labelStartWidth:b,stepperVariant:x,onSpin:R?De:void 0,onSpinComplete:R?_e:void 0,onStep:R?Ce:void 0,placeholder:D,prefix:g,suffix:y,isStepDownDisabled:p||le&&(void 0!==ve&&ve<=B||""===re&&0===B),isStepUpDisabled:p||ie&&(void 0!==ve&&ve>=G||""===re&&0===G),textAlign:N,userAssistanceDensity:w,virtualKeyboard:we,...Se}}}})),define("oj-c/input-number/input-number",["require","exports","preact/jsx-runtime","@oracle/oraclejet-preact/translationBundle","@oracle/oraclejet-preact/hooks/UNSAFE_useFormContext","oj-c/hooks/UNSAFE_useMergedFormContext/useMergedFormContext","@oracle/oraclejet-preact/hooks/UNSAFE_useFormVariantContext","@oracle/oraclejet-preact/hooks/UNSAFE_useTabbableMode","@oracle/oraclejet-preact/UNSAFE_NumberInputText","oj-c/editable-value/UNSAFE_useAssistiveText/useAssistiveText","ojs/ojcontext","ojs/ojvcomponent","preact/compat","preact/hooks","./useNumberInputTextPreact","@oracle/oraclejet-preact/utils/UNSAFE_styles/Layout","css!oj-c/input-number/input-number-styles.css"],(function(require,e,a,t,s,r,n,u,l,i,o,d,c,p,v,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputNumber=void 0;const y={converterHint:"display",messages:"display",validatorHint:"display"},m={instruction:""},f={definition:"",source:""},b=[],h=[];e.InputNumber=(0,d.registerCustomElement)("oj-c-input-number",(0,c.forwardRef)((({autocomplete:e="on",columnSpan:t=1,converter:u=null,containerReadonly:c,disabled:V=!1,displayOptions:S=y,help:E=m,helpHints:M=f,id:C,labelWrapping:D,messagesCustom:_=b,readonly:A,required:P=!1,stepperVariant:R="directional",userAssistanceDensity:x,validators:N=h,virtualKeyboard:w="auto",value:U=null,...O},j)=>{const T=(0,p.useRef)(),I=(0,p.useRef)(),F=(0,p.useCallback)(((e="InputNumber: busyState")=>T.current?o.getContext(T.current).getBusyContext().addBusyState({description:`oj-c-input-number id=${C} is ${e}`}):()=>{}),[C]),{containerProps:k,uadValue:H,readonlyValue:L}=(0,r.useMergedFormContext)({propContainerReadonly:c,propLabelWrapping:D,propReadonly:A,propUserAssistanceDensity:x}),{inputNumberProps:q,methods:B}=(0,v.useNumberInputTextPreact)({autocomplete:e,converter:u,disabled:V,displayOptions:S,messagesCustom:_,readonly:L,required:P,stepperVariant:R,userAssistanceDensity:H,validators:N,virtualKeyboard:w,value:U,...O},F);(0,p.useImperativeHandle)(j,(()=>({blur:()=>I.current?.blur(),focus:()=>I.current?.focus(),...B})),[B]);const G=(0,i.useAssistiveText)({displayOptions:S,help:E,helpHints:M,userAssistanceDensity:q.userAssistanceDensity,validators:N}),K=(0,n.useFormVariantContext)();if(void 0!==O.step&&O.step<0)throw new Error("step must be a positive number");if(null!=O.min&&null!=O.max&&O.max<O.min)throw new Error("max cannot be less than min");return(0,a.jsx)(d.Root,{id:C,ref:T,class:g.layoutSpanStyles.layoutSpanColumn[t],children:(0,a.jsx)(s.FormContext.Provider,{value:k,children:(0,a.jsx)(l.NumberInputText,{ref:I,...G,...q,variant:K})})})})),"InputNumber",{properties:{autocomplete:{type:"string"},columnSpan:{type:"number"},containerReadonly:{type:"boolean",binding:{consume:{name:"containerReadonly"}}},converter:{type:"object|null"},disabled:{type:"boolean"},displayOptions:{type:"object",properties:{converterHint:{type:"string",enumValues:["none","display"]},messages:{type:"string",enumValues:["none","display"]},validatorHint:{type:"string",enumValues:["none","display"]}}},help:{type:"object",properties:{instruction:{type:"string"}}},helpHints:{type:"object",properties:{definition:{type:"string"},source:{type:"string"},sourceText:{type:"string"}}},inputPrefix:{type:"string"},inputSuffix:{type:"string"},labelEdge:{type:"string",enumValues:["none","start","top","inside"],binding:{consume:{name:"containerLabelEdge"}}},labelHint:{type:"string"},labelStartWidth:{type:"number|string",binding:{consume:{name:"labelWidth"}}},labelWrapping:{type:"string",enumValues:["truncate","wrap"],binding:{consume:{name:"labelWrapping"}}},max:{type:"number|null"},min:{type:"number|null"},messagesCustom:{type:"Array<object>",writeback:!0},numberRangeExactMessageDetail:{type:"string"},numberRangeOverflowMessageDetail:{type:"string"},numberRangeUnderflowMessageDetail:{type:"string"},placeholder:{type:"string"},readonly:{type:"boolean",binding:{consume:{name:"containerReadonly"}}},required:{type:"boolean"},requiredMessageDetail:{type:"string"},step:{type:"number"},stepperVariant:{type:"string",enumValues:["directional","quantitative"]},textAlign:{type:"string",enumValues:["end","start","right"]},userAssistanceDensity:{type:"string",enumValues:["compact","reflow","efficient"],binding:{consume:{name:"containerUserAssistanceDensity"}}},validators:{type:"Array<object>|null"},value:{type:"number|null",writeback:!0},virtualKeyboard:{type:"string",enumValues:["number","auto","text"]},rawValue:{type:"string",readOnly:!0,writeback:!0},transientValue:{type:"number|null",readOnly:!0,writeback:!0},valid:{type:"string",enumValues:["pending","valid","invalidHidden","invalidShown"],readOnly:!0,writeback:!0}},extension:{_WRITEBACK_PROPS:["messagesCustom","rawValue","transientValue","valid","value"],_READ_ONLY_PROPS:["rawValue","transientValue","valid"],_OBSERVED_GLOBAL_PROPS:["aria-describedby","id","autofocus"]},methods:{blur:{},focus:{},showMessages:{},reset:{},validate:{}}},{autocomplete:"on",columnSpan:1,converter:null,disabled:!1,displayOptions:{converterHint:"display",messages:"display",validatorHint:"display"},help:{instruction:""},helpHints:{definition:"",source:""},messagesCustom:[],required:!1,stepperVariant:"directional",validators:[],virtualKeyboard:"auto",value:null},{"@oracle/oraclejet-preact":t.default},{consume:[n.FormVariantContext,u.TabbableModeContext]})})),define("oj-c/input-number",["require","exports","oj-c/input-number/input-number"],(function(require,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputNumber=void 0,Object.defineProperty(e,"InputNumber",{enumerable:!0,get:function(){return a.InputNumber}})}));
//# sourceMappingURL=input-number.js.map