define(['exports', './useDatatip-34fb67d2', './util-5bb1f200', 'preact/jsx-runtime', './VisTabularDatatip-e945d6f6', './colorUtils-31010e27', './accUtils-1557920a', './useUser-9b166ca3'], (function(e,s,t,i,r,o,a,n){"use strict";function u(e,s,t,i,r){const o=e.value,a=i?.value?.format?i?.value?.format?.(o):o,n=[];return 0!=i?.series?.isDisplayed&&n.push({key:i?.series?.label||"Series",value:s}),0!=i?.group?.isDisplayed&&n.push({key:i?.group?.label||(r?"Date":"Group"),value:t}),0!=i?.value?.isDisplayed&&n.push({key:i?.value?.label||"Value",value:a}),n}e.useChartDatatip=({isDataCursorEnabled:e,dataCursorPosition:a,isHoriz:l,datatip:d,xScale:p,getDataItem:x,getDataItemPos:c,hoveredItemInfo:m,focusedItemInfo:I,series:f,valueFormats:g,groups:v,width:b,height:y,findNearest:C,timeAxisType:D,touchResponse:h,isDisabled:A})=>{let T=A?void 0:I?.isCurrent?I:m?.isCurrent&&void 0!==m.seriesIndex&&void 0!==m.groupIndex?m:void 0;const k=I?.isCurrent||e?"element":"pointer",F=I?.isCurrent?c(I.seriesIndex,I.groupIndex):void 0,{direction:P}=n.useUser(),U="rtl"===P;let R,S,V="top-start",j=t.calculateOffset(U,b,F);if(e&&null!=a?.x&&null!=a?.y){T=T||C?.(a.x,a.y);const e=p.transform(a.x);j={mainAxis:-1,crossAxis:-1},l?(V="end",j.mainAxis=-10,j.crossAxis=e-y/2):(V="top",j.crossAxis=U?b/2-e:e-b/2,j.mainAxis=-10)}if(null!=T?.seriesIndex&&null!=T?.groupIndex){S=x(T.seriesIndex,T.groupIndex);const e=S?{data:S,seriesIndex:T.seriesIndex,groupIndex:T.groupIndex,id:S.id}:void 0;if(e){R=(d||function(e){const s="mixedFrequency"===e.timeAxisType,t="enabled"===e.timeAxisType||"skipGaps"===e.timeAxisType;return o=>{const a=e.groups.name||e.groups.id,n=s?o.data.x:t?a:void 0;return{content:i.jsx(r.VisTabularDatatip,{tableData:u(o.data,e.series.name||e.series.id.toString(),n||e.groups.name||e.groups.id,e.valueFormats,null!=e.timeAxisType)}),borderColor:o.data.color||e.series.color}}}({series:f[T.seriesIndex],groups:v[T.groupIndex],valueFormats:g,timeAxisType:D}))(e)}}const G=o.getColorRamp(),q=R?.borderColor||T&&(f[T.seriesIndex].color||f[T.seriesIndex].lineColor||f[T.seriesIndex].areaColor)||T&&G[T.seriesIndex%G.length],{datatipContent:w,datatipProps:z}=s.useDatatip({content:R?.content,anchor:k,placement:V,offset:j,borderColor:q,touchResponse:h});return{datatipContent:w,datatipProps:z}}}));
//# sourceMappingURL=useChartDatatip-34e2636c.js.map
