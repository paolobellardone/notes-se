define(['exports', 'preact/jsx-runtime', 'preact/hooks', './Flex-0052275f', './UNSAFE_MessageBanner/themes/redwood/MessageBannerTheme', './useComponentTheme-9a36e65b', './timer-1c3d3545', './classNames-49c3ba27', './MessageCloseButton-9e7435ff', './PRIVATE_Message/themes/MessageStyles.css', './MessageDetail-9b54c11b', './MessageFormattingUtils-6913a734', './MessageStartIcon-94a5f4d2', './MessageSummary-161b06f8', './MessageTimestamp-0b49c1a7', './MessageUtils-652ca803', './utils-225c0e9a'], (function(e,s,a,t,n,r,o,c,i,l,u,m,d,g,f,y,p){"use strict";function b({item:e,renderer:a}){const t=c.classNames([l.messageStartIconStyles.base,l.messageStartIconStyles.toast,l.messageStartIconStyles.customToast]);return s.jsx("div",{class:t,role:"presentation","data-oj-message-custom-icon":"",children:a(e)})}function v({children:e,variant:a="banner"}){const t=c.classNames([l.messageHeaderStyles.base,l.messageHeaderStyles[a]]);return s.jsx("div",{role:"presentation",class:t,children:e})}function x(e){return m.isValidValueForProp(e,"severity")&&"none"!==e}e.Message=function({detailRenderer:e,iconRenderer:S,item:M,onClose:j,messageRef:h=(()=>{}),variant:C="pageBanner"}){const{closeAffordance:k="on",severity:B="error",sound:T,summary:F,timestamp:I}=M.data,{autoTimeout:V="off"}=M.data,N=function(e){return"pageBanner"===e||"sectionBanner"===e?"banner":"toast"}(C),R=a.useCallback((()=>{j?.(M)}),[M,j]),U=a.useCallback((e=>{"Escape"===e.key&&"on"===k&&j?.(M)}),[k,M,j]),A="toast"===N&&"off"!==V,E=a.useRef(),P="on"===V?5e3:"number"==typeof V?V:5e3,w=a.useCallback((()=>{E.current||(E.current=new o.Timer(R,P))}),[R,P]),D=a.useCallback((()=>{E.current&&(E.current.clear(),E.current=void 0)}),[]),H=a.useCallback((()=>{E.current?.pause()}),[]),$=a.useCallback((()=>{E.current?.resume()}),[]);a.useEffect((()=>(m.isValidValueForProp(T)&&y.playSound(T),A&&w(),()=>{D()})),[]);const{variantClasses:_}=r.useComponentTheme(n.MessageBannerRedwoodTheme,{severity:B}),K=c.classNames(["banner"===N&&_,l.messageStyles.base[N],"toast"!==C&&y.severityBasedStyleClass(B,N),"sectionBanner"===C&&l.messageStyles.section]),q=c.classNames([l.messageStyles.content.base,l.messageStyles.content[N]]);return s.jsx("div",{ref:h,class:K,role:"alert","aria-atomic":"true","data-oj-key":`${typeof M.key}-${M.key}`,tabIndex:0,onKeyUp:U,onfocusin:H,onfocusout:$,children:s.jsxs("div",{class:q,children:[S?s.jsx(b,{item:M,renderer:S}):x(B)?s.jsx(d.MessageStartIcon,{severity:B,variant:N}):null,s.jsxs(t.Flex,{direction:"column",flex:"1",gap:p.xUnits(2),children:[s.jsxs(v,{variant:N,children:[s.jsx(g.MessageSummary,{variant:N,text:F}),m.isValidValueForProp(I,"timestamp")&&"toast"!==C&&s.jsx(f.MessageTimestamp,{variant:N,value:I})]}),s.jsx(u.MessageDetail,{variant:N,item:M,renderer:e})]}),"on"===k&&s.jsx(i.MessageCloseButton,{variant:N,onAction:R})]})})}}));
//# sourceMappingURL=Message-f4eeab9f.js.map
