define(['exports', 'preact/jsx-runtime', 'preact/compat', './WindowOverlay-8f5fb8d4', './useTestId-dfceb92d', './useAnimation-24256140', 'preact/hooks', './UNSAFE_Dialog/themes/redwood/DialogTheme', './FocusTrap-fdb3a0ed', './Layer-ea9920e0', './TopLayerHost-d9bd8ecf', './Modal-93466d5f', './classNames-49c3ba27', './ImageVars.css-bf39ec9c', './useComponentTheme-9a36e65b', './useId-e0c3517c', './mergeInterpolations-497657fd', './_curry3-1e42149e', './_curry1-73b01864', './_curry2-b8890f0a', './_isObject-8093a293', './vanilla-extract-dynamic.esm-5df7b135', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'css!./WindowOverlayStyles.styles.css', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './useUser-6c8723b4', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-5dc16b39', './UNSAFE_Dialog/themes/DialogStyles.css', 'css!./DialogStyles.styles.css', './UNSAFE_Dialog/themes/redwood/DialogBaseTheme.css', 'css!./ImageVars.styles.css', 'module', './UNSAFE_Dialog/themes/redwood/DialogVariants.css', './tabbableUtils-a1aa6b01', './head-990e418e', './_arity-9286283c', './_isArray-f8c70222', './_isString-668b4c85', './FocusTracker-8296f9cd', 'preact', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', 'css!./FocusTrackerStyles.styles.css', './useThemeInterpolations-eb2b5ee2', './useColorScheme-33c4f510', './useScale-f847e1c0', './theme-f0ff48ad', './Theme-748163ef', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css', './logger-36c6eea0'], (function(e,s,a,o,t,l,r,d,n,i,c,m,y,h,u,f,g,b,p,S,w,T,v,F,O,_,N,D,A,x,E,j,I,W,U,C,B,R,M,k,L,V,K,X,Y,H,P,q,z,G,J,Q,Z,$,ee,se){"use strict";const ae=({header:e,id:a})=>{const{styles:o}=u.useComponentTheme(d.DialogRedwoodTheme),t="string"==typeof e?s.jsx("h1",{id:a,className:o.dialogTitleStyle,children:e}):e;return s.jsx("div",{className:o.dialogHeaderStyle,children:t})},oe=a.forwardRef((({children:e,header:a,footer:o,labelId:l,role:r,ariaLabelledBy:n,ariaDescribedBy:i,onKeyDown:c,testId:m},f)=>{const{classes:g,styles:b}=u.useComponentTheme(d.DialogRedwoodTheme),p=t.useTestId(m);return s.jsx("div",{ref:f,className:y.classNames([g,h.globalImages]),style:{opacity:0},onKeyDown:c,role:r,"aria-labelledby":n,"aria-describedby":i,...p,children:s.jsxs("div",{className:b.dialogContainerStyle,children:[s.jsx(ae,{id:l,header:a}),s.jsx("div",{className:b.dialogContentStyle,children:s.jsx("div",{className:b.dialogBodyStyle,children:e})}),s.jsx("div",{className:b.dialogFooterStyle,children:o})]})})})),te={opening:{from:{scaleX:0,scaleY:0,transformOrigin:"center",opacity:0},to:{scaleX:1,scaleY:1,opacity:1},options:{duration:200}},closing:{from:{scaleX:1,scaleY:1,transformOrigin:"center",opacity:1},to:{scaleX:0,scaleY:0,opacity:0},options:{duration:200}}};e.Dialog=({autoFocusRef:e,children:a,isOpen:t,header:d="",footer:c,modality:y="modal",placement:h="center",offset:u=0,onClose:g,onTransitionEnd:b,role:p="dialog","aria-labelledby":S,"aria-describedby":w,testId:T})=>{const[v,F]=r.useState(t?"opening":"unmounted"),O=f.useId(),_=S||O;r.useEffect((()=>{("unmounted"!==v||t)&&F(t?"opening":"closing")}),[t,v]);const{nodeRef:N}=l.useAnimation(v,{animationStates:te,isAnimatedOnMount:!0,onAnimationEnd:({animationState:e})=>{"closing"===e?(F("unmounted"),b?.(!1)):b?.(!0)}}),D=e=>{if("Escape"===e.code)g?.({reason:"escapeKey"})},A=()=>s.jsx(o.WindowOverlay,{placement:h,offset:u,children:s.jsx(n.FocusTrap,{autoFocusRef:e,children:s.jsx(oe,{ref:N,labelId:_,header:d,footer:c,role:p,ariaLabelledBy:_,ariaDescribedBy:w,onKeyDown:D,testId:T,children:a})})});return"modal"===y?s.jsx(m.Modal,{isOpen:"unmounted"!==v,children:A()}):"unmounted"!==v?s.jsx(i.Layer,{children:A()}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Dialog.js.map
