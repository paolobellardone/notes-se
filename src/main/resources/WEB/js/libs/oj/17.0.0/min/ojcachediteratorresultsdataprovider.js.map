{"version":3,"names":["define","oj","ojdataprovider","ojeventtarget","ojcomponentcore","Object","prototype","hasOwnProperty","call","CachedIteratorResultsDataProvider","constructor","dataProvider","options","_a","_b","this","CacheAsyncIterable","_parent","dataProviderAsyncIterator","params","cache","CacheAsyncIterator","Symbol","asyncIterator","_cachedOffset","_needLocalRowCount","includeFilteredRowCount","_baseFetchFirstCapability","totalFilteredRowCount","next","size","signal","wrapWithAbortHandling","resolve","_checkCachedParamsAndIterate","then","result","_getResult","getSize","undefined","isDone","getDataList","data","length","Promise","_getFinalResult","reject","_getSharedIteratorState","fetchOffset","fetchUntilOffset","done","value","cachedFetchParams","sortCriteria","fetchParameters","CacheAsyncIteratorYieldResult","CacheAsyncIteratorReturnResult","asyncIteratorFetchPromise","firstIteratorCachedFetchParams","firstIteratorCachedFetchOffset","firstIteratorCachedFetchPromise","fetchPromise","_compareCachedFetchParameters","_createCachedFetchParams","addListResult","finalResult","_VALUE","assign","_DONE","DataCache","_lastFetchParams","createOptimizedKeyMap","initialMap","createOptimizedKeySet","initialSet","addEventListener","_MUTATE","event","processMutations","detail","dispatchEvent","_REFRESH","reset","_firstIteratorState","getCapability","containsKeys","finalResults","Set","neededKeys","cacheResults","getDataByKeys","keys","forEach","key","results","get","add","containsParameters","newParams","attributes","scope","containsKeysResults","fetchByKeys","Map","item","set","fetchByKeysResults","fetchByOffset","_DEFAULT_SIZE","offset","updatedParams","JSON","parse","stringify","startsWith","getDataByOffset","fetchFirst","aborted","capabilityName","capability","attributeFilter","caching","getTotalSize","filterDef","isEmpty","static","cachedParams","compareValues","_getFilterDef","filterCriterion","filter","property","_KEY","_KEYS","_DATA","_STARTINDEX","_SORT","_SORTCRITERIA","_FILTERCRITERION","_METADATA","_ITEMS","_FROM","_OFFSET","_SIZE","_FETCHPARAMETERS","_RESULTS","_CONTAINSPARAMETERS","_CONTAINSKEYS","_FETCHBYKEYS","_FETCHBYOFFSET","_FETCHFIRST","_ADDEVENTLISTENER","_FETCHATTRIBUTES","EventTargetMixin","applyMixin","_registerLegacyNamespaceProp"],"sources":["../debug/ojcachediteratorresultsdataprovider.js"],"mappings":"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"}