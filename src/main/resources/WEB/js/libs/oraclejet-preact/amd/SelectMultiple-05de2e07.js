define(['exports', 'preact/jsx-runtime', './Label-a53aabb9', 'preact/hooks', './keyboardUtils-71bc5d84', 'preact/compat', './TextFieldInput-ca306ad6', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-b8ee28da', './StyledTextField-3398bf94', './FormContext-5130e198', './useFormContext-30acdd33', './FormFieldContext-3c44aaaa', 'css!./LabelValueLayoutStyles.styles.css', './logger-0f873e29', './UNSAFE_TextField/themes/TextFieldStyles.css', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './UNSAFE_TextField/themes/FormLayoutStyles.css', 'module', './Flex-69dc7af4', './InputGroupContext-372087af', './LayerHost-1b4d03f0', './useTranslationBundle-652e08a6', 'css!./LiveRegionStyles.styles.css', './TabbableModeContext-a9c97640', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-d208ce7b', './CompactUserAssistance-eb849bc5', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-304eef18', 'preact', 'css!./IconStyle.styles.css', './Popup-bba2ea15', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useFocusableTextField-8b755b15', './useLoadingIndicatorTimer-20a3bf5f', './useTextField-e6877c79', './useSelectCommon-736de0ee', './useAccessibleContext-23e8a333', './textAlign-ef924afd', './useFormFieldContext-8196183c', 'css!./ReadonlyTextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputVariants.css', './TextField-80908a0d', './UNSAFE_SelectMultiple/themes/SelectedValuesCountStyles.css', './Chip-e007a488', './IconButton-c2e5c1c5', './CancelS-1c6e0ab2', './useFocusWithin-5a504fca', './useUser-abae2493', './classNames-08d99695', './dimensions-fda85d6b', './mergeInterpolations-9ede4cf7', './HiddenAccessible-037ef42d', './Text-0609bf4d', './Close-8af8a18c', './useId-c9578d26', './UNSAFE_SelectMultiple/themes/TextTagStyles.css', './UNSAFE_SelectMultiple/themes/TextTagListStyles.css', './LiveRegion-345ac2a4', './View-59fe568d', './UNSAFE_SelectMultiple/themes/MobileDropdownFooterStyles.css', './Button-f832e11c', './useEffectEvent-8467275b', './equals-e73adbe3', './mergeProps-bcfa6a92', './stringUtils-0ae982c2'], (function(e,t,s,n,o,l,i,a,r,d,c,u,p,h,b,y,x,m,v,S,f,T,w,g,F,C,D,A,I,R,L,E,k,K,V,U,j,B,P,O,M,N,_,H,z,q,Y,W,$,G,Z,J,Q,X,ee,te,se,ne,oe,le,ie,ae,re,de,ce,ue,pe,he,be,ye,xe,me,ve,Se,fe,Te,we,ge,Fe,Ce){"use strict";function De({assistiveText:e,collectionRenderer:s,collectionRendererContext:n,data:o,dropdownId:l,dropdownRef:i,helpSourceLink:a,helpSourceText:r,isAddToListShown:d,isDisabled:c,isDropdownAbove:u,isEmptyResults:p,isOpen:h,isReadonly:b,label:y,mainFieldRef:x,userAssistanceDensity:m,onAddToListAction:v,onAutoDismiss:S,onPosition:f}){const T=R.useTranslationBundle("@oracle/oraclejet-preact"),w=!h||u||c||b||!e&&!a||"efficient"!==m&&"reflow"!==m?void 0:t.jsx(Z.DropdownUserAssistance,{assistiveText:e,fieldLabel:y,helpSourceLink:a,helpSourceText:r,userAssistanceDensity:m}),g=p?d?void 0:t.jsx(Z.EmptyResults,{}):s(n),F=d?t.jsx(Z.LinkItem,{isHighlighted:p,onAction:v,children:T.select_addToList()}):void 0;return t.jsxs(Z.Dropdown,{dropdownRef:i,id:l,isOpen:h,anchorRef:x,onAutoDismiss:S,onPosition:f,children:[t.jsxs(Z.DropdownList,{hasBottomGap:void 0===w,isLoading:null===o,children:[g,F]}),w]})}function Ae({"aria-label":e,count:s=0,onKeyDown:n,onKeyUp:o,onMouseDown:l,...i}){const a=R.useTranslationBundle("@oracle/oraclejet-preact"),r=a.selectMultiple_showSelectedValues(),d=e?`${e}. `:"",c=a.selectMultiple_countPlus({COUNT:"99"}),u=s>99?`${c}`:`${s}`,p=`${d}${a.selectMultiple_valuesSelected({VALUE_COUNT:`${s}`})} ${r}`;return t.jsx("div",{class:ne.selectedValueCountStyles.base,onKeyDown:n,onKeyUp:o,onMouseDown:l,children:t.jsx(oe.Chip,{"aria-label":p,...i,children:u})})}function Ie({children:e,columnSpan:s,fieldLabel:n,hasInsideLabel:o,isBackButtonShown:l,isClearButtonShown:i,isDropdownArrowShown:a,isDropdownSelectedOnlyView:r,isSelectedValuesCountShown:d,selectedValuesCount:c,onBackButtonClick:u,onClearButtonClick:p,onDropdownArrowClick:h,onSelectedValuesCountKeyDown:b,onSelectedValuesCountKeyUp:y,onSelectedValuesCountMouseDown:x,onSelectedValuesCountToggle:m,...v}){const{isDisabled:S,isLoading:f}=X.useFormFieldContext(),T=R.useTranslationBundle("@oracle/oraclejet-preact"),w=l?t.jsx(le.IconButton,{"aria-label":T.selectMultiple_back(),size:"xs",variant:"ghost",onAction:u,children:t.jsx(ie.SvgNavLeft,{})}):null,g=i?t.jsx(le.IconButton,{"aria-label":T.formControl_clear(),size:"sm",variant:"ghost",onAction:p,children:t.jsx(ie.SvgCancelS,{})}):null,F=a?t.jsx(Z.DropdownArrow,{isDisabled:S,onClick:h,testId:`${v.testId}_dropdownarrow`}):null,C=f?void 0:d?t.jsxs(D.Flex,{align:"center",justify:"center",gap:[0,"1x"],children:[t.jsx(Ae,{"aria-label":n,count:c,isDisabled:S,isSelected:r,onKeyDown:b,onKeyUp:y,onMouseDown:x,onToggle:m}),i&&g,a&&F]}):t.jsxs(t.Fragment,{children:[i&&g,a&&F]});return t.jsx(se.TextField,{columnSpan:s,startContent:l&&w,mainContent:e,endContent:C,...v})}function Re({children:e,removeIcon:s="never",isSelected:l=!1,onRemoveAction:i,onSelect:a,onRemoveIconClick:r,isFocused:d,value:c}){const u=R.useTranslationBundle("@oracle/oraclejet-preact"),p=n.useRef(null),h=ye.useId(),b=de.classNames([xe.textTagStyles.base,l&&xe.textTagStyles.selected]),y=n.useCallback((()=>{i?.(c)}),[c,i]),x=n.useCallback((()=>{a?.(c)}),[c,a]),m=n.useCallback((()=>{r?.(c)}),[c,r]),v=n.useCallback((e=>{o.isBackspaceOrDelete(e)&&y()}),[y]);return n.useEffect((()=>{d&&l&&(p.current?.focus(),p.current?.scrollIntoView({block:"nearest"}))}),[d,l]),t.jsxs(t.Fragment,{children:[t.jsxs("span",{ref:p,class:b,tabIndex:-1,onClick:x,onKeyUp:v,onMouseDown:Z.preventDefault,role:"option","aria-describedby":h,"aria-selected":l?"true":"false",children:[t.jsx(he.Text,{size:"md",variant:"inherit",children:e}),"always"===s&&t.jsx(E.TabbableModeContext.Provider,{value:{isTabbable:!1},children:t.jsx(le.IconButton,{size:"xs",variant:"ghost",onAction:m,children:t.jsx(be.SvgClose,{})})})]}),t.jsx(pe.HiddenAccessible,{id:h,children:u.selectMultiple_removeSelectedTagInstructionText()})]})}const Le=Array.from(["maxWidth"],(e=>ce.dimensionInterpolations[e])),Ee=ue.mergeInterpolations(Le);const ke=l.forwardRef((function(e,s=(()=>{})){const{"aria-label":l,data:i,hasInsideLabel:a=!1,removeIcon:r="never",onExitNavigation:d,onRemove:c}=e,u=n.useRef(null),[p,h]=n.useState([]),{direction:b}=re.useUser(),y=n.useRef(-1),x=i.at(-1)?.value,m=n.useRef({value:x,index:i.length-1});m.current={value:x,index:i.length-1};const v=n.useCallback((e=>{const t=i.at(e)?.value;null!=t&&h([t])}),[i]),S=n.useCallback((()=>{h((e=>(y.current=-1,e.length?[]:e)))}),[]),f=n.useCallback((e=>{c?.([e]),d?.(),S()}),[S,d,c]),T=n.useCallback((e=>{const t=[...p];p.includes(e)||t.push(e),c?.(t),d?.(),S()}),[p,S,d,c]),w=n.useCallback((e=>{h([e]),y.current=i.findIndex((t=>t.value===e))}),[i,h]),g=n.useCallback((e=>{if(0!==i.length){if("ltr"===b&&"ArrowLeft"===e.code||"rtl"===b&&"ArrowRight"===e.code){if(0===y.current)return;return y.current-=1,void v(y.current)}return"ltr"===b&&"ArrowRight"===e.code||"rtl"===b&&"ArrowLeft"===e.code?y.current===i.length-1?void d?.():(y.current+=1,void v(y.current)):"Home"===e.code?(y.current=0,void v(y.current)):"End"===e.code?(y.current=i.length-1,void v(y.current)):o.isSelectAll(e)?(h(i.map((e=>e.value))),void e.preventDefault()):void 0}}),[i,b,d,v,h]),F=n.useCallback((()=>{h((e=>e.length||void 0===m.current.value?e:(y.current=m.current.index,[m.current.value])))}),[]),C=n.useCallback((()=>{S()}),[S]),{focusProps:D}=ae.useFocusWithin({onBlurWithin:C});n.useImperativeHandle(s,(()=>({blur:C,focus:F})),[C,F]),n.useEffect((()=>{u.current?.scrollTo({left:u.current.scrollWidth*("ltr"===b?1:-1)})}),[i,b]);const A=Ee(e),I=de.classNames([me.textTagListStyles.textTagListBase,a&&me.textTagListStyles.textTagListInsideLabel]);return t.jsx("div",{class:I,ref:u,tabIndex:-1,onKeyDown:g,role:"listbox","aria-label":l,"aria-multiselectable":"true",style:A,...D,children:i.map(((e,s)=>t.jsx(Re,{isFocused:y.current===s,isSelected:p.includes(e.value),onRemoveAction:T,onSelect:w,onRemoveIconClick:f,removeIcon:r,value:e.value,children:e.label},e.value)))})}));function Ke({displayValue:e,isAddToListShown:s,isKeyboardNavigable:o,isTextTagListShown:l,isUserFiltering:a,liveRegionText:r,onExitNavigation:d,onRemove:c,removeIcon:u,selectedValuesDescriptionId:p,selectedValuesKeyboardNavDescriptionId:h,textTagListData:b,textTagListRef:y,userInput:x,virtualKeyboard:m,...v}){const S=R.useTranslationBundle("@oracle/oraclejet-preact"),f=s?S.select_addToListAvailable():void 0,T=o&&e&&e.length>0?S.selectMultiple_highlightSelectedTagsInstructionText():void 0,{isInputFocused:w}=X.useFormFieldContext(),[g,F]=n.useState(T),[C,A]=n.useState(!1);return w&&l&&!g&&T&&!C?A(!0):w||!C||A(!1),g!==T&&F(T),t.jsxs(t.Fragment,{children:[l&&t.jsx(ke,{"aria-label":S.selectMultiple_selectedValues(),data:b,hasInsideLabel:v.hasInsideLabel,maxWidth:"50%",onExitNavigation:d,onRemove:c,ref:y,removeIcon:u}),t.jsx(D.Flex,{flex:1,children:t.jsx(i.TextFieldInput,{"aria-autocomplete":"list",autoComplete:"off",hasPrefix:l,role:"combobox",hasEndContent:!0,spellcheck:!1,type:"auto"===m?"search":m,value:a||l?x:e,...v})}),l&&t.jsx(pe.HiddenAccessible,{id:p,isHidden:!0,children:e}),l&&T&&!C&&t.jsx(pe.HiddenAccessible,{id:h,isHidden:!0,children:T}),t.jsx(ve.LiveRegion,{children:r}),l&&t.jsx(ve.LiveRegion,{children:C?T:void 0}),s?t.jsx(ve.LiveRegion,{children:f}):void 0]})}function Ve({onApply:e}){const s=R.useTranslationBundle("@oracle/oraclejet-preact");return t.jsx("div",{class:fe.mobileDropdownFooterStyles.base,children:t.jsx(Te.Button,{display:"label",edge:"bottom",label:s.selectMultiple_apply(),size:"sm",variant:"callToAction",onAction:e})})}function Ue(e,t){const s=R.useTranslationBundle("@oracle/oraclejet-preact").plural_separator();return{displayValue:n.useMemo((()=>{if(void 0===t)return"";const n=function(e,t){const s=t?[...t?.values()]:[],n=t=>Z.renderItemText(t,e),o=s.map(n);return new Set(o)}(e,t),o=function(e,t){return Array.from(e.values()).join(t)}(n,s);return o}),[e,s,t]),textTags:n.useMemo((()=>void 0===t?[]:function(e,t=[]){return t.map((t=>({label:Z.renderItemText(t,e)??"",value:t.key})))}(e,t)),[e,t])}}function je({isDropdownSelectedOnlyView:e=!1,valueItems:t}){const s=we.useEffectEvent((e=>e&&t&&0!==t.length?{offset:0,totalSize:t.length,sizePrecision:"exact",data:t.map((e=>({data:e.data,metadata:e.metadata??{key:e.key}})))}:void 0));return{data:n.useMemo((()=>s(e)),[s,e]),onLoadRange:void 0}}const Be=(e,t,s)=>t.data.forEach((t=>{s.has(t.metadata.key)&&e.set(t.metadata.key,{data:t.data,key:t.metadata.key,metadata:t.metadata})}));function Pe({"aria-describedby":e,"aria-label":o,assistiveText:l,collectionRenderer:i,data:a,dropdownId:r,enabledElementRef:d,helpSourceLink:c,helpSourceText:u,isAddToListShown:h,isDisabled:b,isEmptyResults:y,isFocused:x,isLoading:m,isOpen:v,isReadonly:S,isRequired:f,isSelectedOnlyView:T,itemText:w,label:g,liveRegionText:F,placeholder:C,propIsLoading:D,selectedValuesDescriptionId:A,setDropdownOpen:I,setUserInput:L,stopFiltering:E,textAlign:k,textTagListRef:K,userAssistanceDensity:V,userInput:U,valueItems:j,virtualKeyboard:B,onAddToListAction:P,onCommit:O,onFieldBlur:M,onFieldFocus:N,onFieldInput:_,onFieldKeyDown:H,onFieldKeyUp:z}){const q=R.useTranslationBundle("@oracle/oraclejet-preact"),{collectionRendererContext:Y,footerProps:W,selectMultipleFieldInputProps:$,selectMultipleFieldProps:J,selectedValuesCountProps:Q}=function({data:e,inputRef:t,isDropdownOpen:s,isDropdownSelectedOnlyView:o,itemText:l,textTagListRef:i,userInput:a,valueItems:r,onCommit:d,setDropdownOpen:c,setUserInput:u,stopFiltering:p}){const[h,b]=n.useState({rowKey:void 0}),[y,x]=n.useState(Z.createKeysFromValueItems(r)),[m,v]=n.useState(o),S=n.useRef(new Map),f=n.useMemo((()=>{const e=[];return y?.forEach((t=>{const s=r?.find((e=>e.key===t));s?e.push(s):S.current.has(t)&&e.push(S.current.get(t))})),e}),[y,r]),{textTags:T,displayValue:w}=Ue(l,f),g=n.useRef(null),{data:F}=je({isDropdownSelectedOnlyView:m,valueItems:f}),C=n.useCallback((e=>{b({rowKey:e.value})}),[b]),D=n.useCallback((t=>{x(t.value),u(""),e&&Be(S.current,e,t.value)}),[e,x,u]),A=n.useCallback((({value:e=!1})=>{v((t=>(t!==e&&p(),e)))}),[v,p]),I=n.useCallback((()=>{x(Z.createKeysFromValueItems(r)),S.current.clear(),c(!1),p(),t.current?.focus()}),[t,c,p,r]),R=n.useCallback((()=>{d({previousValue:Z.createKeysFromValueItems(r),value:y}),I()}),[y,r,I,d]),L=n.useCallback((()=>{I()}),[I]),E=n.useCallback((()=>{x(new Set),p()}),[p]),k=n.useCallback((e=>{const t=new Set(y);e.forEach((e=>t.delete(e))),x(t)}),[y]),K=n.useCallback((()=>{setTimeout((()=>g.current?.focus()),0)}),[]);n.useEffect((()=>{s&&setTimeout((()=>g.current?.focus()),0)}),[s]);const[V,U]=n.useState(r);return V!==r&&(s||x((e=>{const t=Z.createKeysFromValueItems(r);return ge.equals(e,t)?e:t})),U(r)),{collectionRendererContext:Z.useCollectionRenderer({currentKey:h.rowKey,onCurrentKeyChange:C,onSelectedKeysChange:D,searchText:a,selectedKeys:y,selectedOnlyData:F}),footerProps:{onApply:R},selectMultipleFieldInputProps:{displayValue:w,hasEmptyLabel:!1,hasInsideLabel:!0,inputRef:g,isTextTagListShown:T.length>0,isUserFiltering:!0,removeIcon:"always",userInput:a,textTagListData:T,textTagListRef:i,onExitNavigation:K,onRemove:k},selectMultipleFieldProps:{hasInsideLabel:!0,isBackButtonShown:!0,isClearButtonShown:!Z.isSearchTextEmptyOrUndefined(a)||0!==T.length,isDropdownArrowShown:!1,isDropdownSelectedOnlyView:m,isSelectedValuesCountShown:(y?.size??0)>0||m,selectedValuesCount:y?.size??0,styleVariant:"embedded",onBackButtonClick:L,onClearButtonClick:E},selectedValuesCountProps:{onSelectedValuesCountToggle:A},isDropdownSelectedOnlyView:m}}({data:a,inputRef:d,isDropdownOpen:v,isDropdownSelectedOnlyView:T,itemText:w,textTagListRef:K,userInput:U,valueItems:j,onCommit:O,setDropdownOpen:I,setUserInput:L,stopFiltering:E}),{formFieldContext:X,inputProps:ee,labelProps:te,textFieldProps:se,userAssistanceProps:ne}=G.useTextField({ariaDescribedBy:e,helpSourceLink:c,helpSourceText:u,isDisabled:!1,isFocused:x,isLoading:m,isReadonly:!1,isRequiredShown:!1,labelEdge:"inside",styleVariant:"default",value:J.selectedValuesCount>0||void 0});X.hasValue=D||X.hasValue;const oe={label:t.jsx(s.Label,{...te,children:g}),labelEdge:"inside"},le=!v||b||S||!l&&!c||"efficient"!==V&&"reflow"!==V?void 0:t.jsx(Z.DropdownUserAssistance,{assistiveText:l,fieldLabel:g,helpSourceLink:c,helpSourceText:u,userAssistanceDensity:V,...ne}),ie=y?h?void 0:t.jsx(Z.EmptyResults,{}):i(Y),ae=h?t.jsx(Z.LinkItem,{onAction:P,children:q.select_addToList()}):void 0;return t.jsx(Z.SelectMobileDropdown,{header:t.jsxs(p.FormFieldContext.Provider,{value:X,children:[t.jsx(Se.View,{children:t.jsx(Ie,{fieldLabel:g,onBlur:M,onFocus:N,...oe,...se,...J,...Q,children:t.jsx(Ke,{"aria-controls":r,"aria-expanded":v,"aria-label":o,isAddToListShown:h,isRequired:f,liveRegionText:F,placeholder:C,selectedValuesDescriptionId:A,textAlign:k,virtualKeyboard:B,onInput:_,onKeyDown:H,onKeyUp:z,...ee,...$})})}),le]}),footer:t.jsx(Ve,{...W}),id:r,isOpen:v,labelId:te.id,children:t.jsxs(Z.DropdownList,{hasTopGap:!ae,hasBottomGap:!0,isLoading:null===a,children:[ie,ae]})})}const Oe=l.forwardRef((({addToList:e="off","aria-describedby":i,assistiveText:a,collectionRenderer:c,columnSpan:h,data:b,helpSourceLink:y,helpSourceText:x,isDisabled:m,isLoading:v,isReadonly:S,isRequired:f,isRequiredShown:T,itemRenderer:w,itemText:g,label:F,labelEdge:C,labelStartWidth:D,messages:A,onAddToListAction:I,onCommit:L,onFilter:E,onLoadRange:k,placeholder:K,testId:V,textAlign:B,userAssistanceDensity:P,valueItems:O,variant:M="default",virtualKeyboard:_},H)=>{const{isDisabled:z,isReadonly:q,labelEdge:Y,labelStartWidth:J,textAlign:Q,userAssistanceDensity:X}=u.useFormContext(),ee=m??z,te=S??q,se=C??Y,ne=D??J,oe=B??Q,le=P??X,ie=l.useRef(null),ae=l.useRef(null),{focusProps:de,isFocused:ce,methods:ue}=W.useFocusableTextField({isDisabled:ee,isReadonly:te,enabledElementRef:ie,readonlyElementRef:ae});l.useImperativeHandle(H,(()=>ue),[ue]);const{addToListEventHandlers:pe,ariaProps:he,collectionRendererContext:be,data:xe,dropdownArrowEventHandlers:me,dropdownEventHandlers:ve,dropdownRef:Se,hasSelectedValuesCount:fe,inputEventHandlers:Te,isAddToListShown:we,isDataFetched:ge,isDropdownAbove:Ae,isDropdownOpen:Re,isDropdownSelectedOnlyView:Le,isEmptyResults:Ee,isFocused:ke,isUserFiltering:Ve,mainFieldRef:Be,mouseProps:Oe,selectedValuesCountProps:Me,selectedValuesDescriptionId:Ne,selectedValuesKeyboardNavDescriptionId:_e,setDropdownOpen:He,setUserInput:ze,stopFiltering:qe,textTagListProps:Ye,userInput:We}=function({addToList:e,ariaDescribedBy:t,data:s,inputRef:l,isDisabled:i,isFocused:a,isReadonly:r,onAddToListAction:d,onCommit:c,onFilter:u,valueItems:p}){const[h,b]=n.useState(!1),y=p?.length,x=void 0!==y&&y>0||h,m=je({isDropdownSelectedOnlyView:h,valueItems:p}),v=h?m.data:s,S=n.useCallback((e=>{Z.isSearchTextEmptyOrUndefined(e.searchText)||b(!1),u?.(e)}),[u]),{currentRowKeyRef:f,currentRowOverride:T,dropdownRef:w,handleDropdownArrowClick:g,handleDropdownAutoDismiss:F,handleDropdownPosition:C,handleInput:D,handleMainFieldKeyDown:A,handleMainFieldKeyUp:I,handleUpDownArrowKeys:R,isDropdownAbove:L,isDropdownOpen:E,isFocused:k,isUserFiltering:K,mainFieldRef:V,onCurrentKeyChange:U,onMouseDown:j,searchText:B,setCurrentRowOverride:P,setDropdownOpen:O,setUserInput:M,stopFiltering:N,userInput:_}=Z.useSelectCommon({data:v,inputRef:l,isFocused:a,onFilter:S}),[H,z]=n.useState(E),[q,Y]=n.useState(p),[W,$]=n.useState(Z.createKeysFromValueItems(p)),G=null!=v&&!Z.isBeforeDataFetch(v),J=G&&0===v?.totalSize,Q="on"===e&&K&&null!=B&&B.length>0&&J,X=n.useCallback((()=>{O(!1),N(),d?.({searchText:K?B:void 0})}),[K,d,B,O,N]),ee=n.useRef(null),{direction:te}=re.useUser(),se=ye.useId(),ne=ye.useId(),oe=Ce.merge([k&&ne,k&&se,t]),le=n.useCallback((()=>{w.current?.parentElement?.removeChild(w.current)}),[w]),ie=n.useCallback((e=>K&&E&&!Z.isSearchTextEmptyOrUndefined(_)&&(v?.data.length??0)>0&&void 0!==e),[v,E,K,_]),ae=n.useCallback((e=>{if(W?.has(e))return;const t=void 0===W?new Set([e]):new Set([...W.values(),e]);c({previousValue:W,value:t}),$(t)}),[c,W,$]),de=n.useCallback((e=>{if(E&&"keydown"===e?.type){const t=e;t.code===o.KEYS.TAB&&(t.shiftKey||!x?l.current?.focus():ue.current?.focus(),le())}}),[x,l,E,le]),ce=n.useCallback((e=>{if(!o.isControlOrFunctionKey(e))switch(e.code){case o.KEYS.TAB:E&&(e.shiftKey||!x&&!e.shiftKey)&&(le(),O(!1)),x&&!e.shiftKey&&e.stopPropagation();break;case o.KEYS.LEFT:"ltr"===te&&l.current instanceof HTMLInputElement&&0===l.current?.selectionStart&&0===l.current?.selectionEnd&&ee.current?.focus();break;case o.KEYS.RIGHT:"rtl"===te&&l.current instanceof HTMLInputElement&&0===l.current?.selectionStart&&0===l.current?.selectionEnd&&ee.current?.focus();break;case o.KEYS.ENTER:case o.KEYS.NUMPAD_ENTER:if(Z.isPhone())return;if(Q)return void X();ie(f.current)&&(O(!1),N(),ae(f.current))}}),[f,te,X,x,l,Q,E,le,ae,O,ie,N]);if(q!==p){const e=Z.createKeysFromValueItems(p);$(e)}const ue=n.useRef(null);n.useEffect((()=>{ue.current=x&&V.current?.querySelector?V.current.querySelector('[role="switch"]'):null}),[x,i,r,V]);const pe=n.useCallback((e=>{switch(e.code){case o.KEYS.TAB:E&&!e.shiftKey&&(le(),O(!1)),e.shiftKey&&e.stopPropagation();break;case o.KEYS.UP:case o.KEYS.DOWN:e.preventDefault();break;case o.KEYS.ESC:E&&(O(!1),e.preventDefault(),e.stopPropagation());break;case o.KEYS.ENTER:e.stopPropagation()}}),[E,le,O]),he=n.useCallback((e=>{switch(e.code){case o.KEYS.UP:case o.KEYS.DOWN:R(e)}}),[R]),be=n.useCallback((e=>{e.preventDefault(),l.current?.focus()}),[l]),xe=n.useCallback((e=>{E||O(!0);const t=e.value??!1;t!==h&&(b(t),t&&N())}),[E,h,O,N]);!E&&h&&b(!1);const me=n.useCallback((e=>{$(e.value),M(""),c?.({value:e.value,previousValue:W})}),[c,W,$,M]),ve=n.useCallback((()=>{setTimeout((()=>l.current?.focus()),0)}),[l]),Se=n.useCallback((e=>{const t=W,s=new Set(W);e.forEach((e=>s.delete(e))),c?.({previousValue:t,value:s})}),[c,W]),fe=n.useMemo((()=>Fe.mergeProps({onAutoDismiss:F,onPosition:C},{onAutoDismiss:de})),[F,C,de]),Te=n.useMemo((()=>Fe.mergeProps({onInput:D,onKeyDown:A,onKeyUp:I},{onKeyDown:ce})),[A,D,I,ce]),we=n.useMemo((()=>({textTagListRef:ee,onExitNavigation:ve,onRemove:Se})),[ve,Se]),ge=Z.useCollectionRenderer({currentKey:T.rowKey,onCurrentKeyChange:U,onSelectedKeysChange:me,searchText:B,selectedKeys:W,selectedOnlyData:m.data});E&&!H&&P({rowKey:void 0}),H&&!E&&!_&&N();const De=n.useRef(v);if(De.current!==v){const e=v?.data[0]?.metadata.key;E&&K&&null!=e&&0===v?.offset&&P({rowKey:Z.isSearchTextEmptyOrUndefined(B)?void 0:e}),De.current=v}return H!==E&&z(E),q!==p&&Y(p),{addToListEventHandlers:{onAction:X},ariaProps:{ariaDescribedBy:oe},collectionRendererContext:ge,data:v,dropdownArrowEventHandlers:{onClick:g},dropdownEventHandlers:fe,dropdownRef:w,hasSelectedValuesCount:x,inputEventHandlers:Te,inputRef:l,isAddToListShown:Q,isDataFetched:G,isDropdownAbove:L,isDropdownOpen:E,isDropdownSelectedOnlyView:h,isEmptyResults:J,isFocused:k,isUserFiltering:K,mainFieldRef:V,mouseProps:i||r?{}:{onMouseDown:j},searchText:B,selectedValuesCountProps:{onKeyDown:pe,onKeyUp:he,onMouseDown:be,onToggle:xe},selectedValuesDescriptionId:se,selectedValuesKeyboardNavDescriptionId:ne,setDropdownOpen:O,setUserInput:M,stopFiltering:N,textTagListProps:we,userInput:_}}({addToList:e,ariaDescribedBy:i,data:b,inputRef:ie,isDisabled:ee,isFocused:ce,isReadonly:te,onAddToListAction:I,onCommit:L,onFilter:E,valueItems:O}),$e=$.useLoadingIndicatorTimer(v??!1),{baseId:Ge,formFieldContext:Ze,inputProps:Je,labelProps:Qe,textFieldProps:Xe,userAssistanceProps:et}=G.useTextField({ariaDescribedBy:he.ariaDescribedBy,helpSourceLink:y,helpSourceText:x,isDisabled:ee,isFocused:ke,isLoading:$e,isReadonly:te,isRequiredShown:T,labelEdge:se,messages:A,styleVariant:M,userAssistanceDensity:le,value:void 0!==O&&O.length>0||void 0});Ze.hasValue=v||Ze.hasValue;const tt=`${Ge}-dropdown`,{displayValue:st,textTags:nt}=Ue(g,O),ot="none"!==se?t.jsx(s.Label,{...Qe,...Z.isPhone()?{forId:void 0}:{},children:F}):void 0,lt={label:"none"!==se?ot:void 0,labelEdge:"none"!==se?se:void 0,labelStartWidth:"none"!==se?ne:void 0},it="none"===se?F:void 0,at="efficient"===le||"reflow"===le?ee||te?"efficient"!==le?void 0:t.jsx(U.InlineUserAssistance,{userAssistanceDensity:le,...et}):t.jsx(U.InlineUserAssistance,{assistiveText:a,fieldLabel:F,helpSourceLink:y,helpSourceText:x,messages:A,isRequiredShown:T,userAssistanceDensity:le,...et}):void 0,rt="compact"===le?t.jsx(j.CompactUserAssistance,{anchorRef:Be,messages:A,assistiveText:a,...et}):void 0,dt=R.useTranslationBundle("@oracle/oraclejet-preact"),ct=l.useCallback((({currentRowKeyOverride:e,onPersistCurrentRowKey:s,onSelectedChange:n,searchText:o,selected:l,selectedOnlyData:i})=>t.jsx(Z.DefaultList,{"aria-label":F??"",currentItemVariant:"highlight",currentKey:e,data:i??b,itemRenderer:w,itemText:g,searchText:i?void 0:Ve?o:void 0,selectedKeys:l,selectionMode:"multiple",onCurrentKeyChange:s,onLoadRange:i?void 0:k,onSelectionChange:n})),[Ve,w,g,F,k,b]);if(te){const e=t.jsx(r.ReadonlyTextFieldInput,{"aria-describedby":Je["aria-describedby"],"aria-label":it,"aria-labelledby":Qe.id,as:"div",elementRef:ae,hasEmptyLabel:""===F&&"none"===se,hasInsideLabel:void 0!==F&&"inside"===se,textAlign:oe,value:st});return t.jsx(p.FormFieldContext.Provider,{value:Ze,children:t.jsx(d.ReadonlyTextField,{role:"presentation",columnSpan:h,compactUserAssistance:rt,inlineUserAssistance:at,onBlur:de.onFocusOut,onFocus:de.onFocusIn,ref:Be,mainContent:e,testId:V,...lt})})}const ut="inside"===se,pt=Re&&ge?0===xe?.totalSize?dt.select_noMatchesFound():1===xe?.totalSize?dt.select_oneMatchFound():"exact"===xe?.sizePrecision?dt.select_sizeMatchesFound({TOTAL_SIZE:`${xe?.totalSize}`}):dt.select_sizeOrMoreMatchesFound({TOTAL_SIZE:`${xe?.totalSize}`}):"",ht=Re&&void 0!==xe&&(null===xe||xe.totalSize>0||Z.isBeforeDataFetch(xe)||Ee),bt=""===F&&"none"===se,yt=Z.isPhone()&&!ee?t.jsx(Z.SelectMobileFieldInput,{"aria-controls":tt,"aria-describedby":Je["aria-describedby"],"aria-expanded":Re,"aria-invalid":Je["aria-invalid"],"aria-label":it,"aria-labelledby":Qe.id,displayValue:st,hasEmptyLabel:bt,hasInsideLabel:ut,isRequired:f,onBlur:Je.onBlur,onFocus:Je.onFocus,placeholder:K,ref:ie,textAlign:oe,variant:Je.variant}):t.jsx(Ke,{"aria-controls":tt,"aria-expanded":Re,"aria-label":it,displayValue:st,hasEmptyLabel:bt,hasInsideLabel:ut,inputRef:ie,isAddToListShown:we,isKeyboardNavigable:!ee&&!Z.isMobile(),isRequired:f,isTextTagListShown:ke&&0!==nt.length,isUserFiltering:Ve,liveRegionText:pt,placeholder:K,removeIcon:Z.isTablet()?"always":"never",selectedValuesDescriptionId:Ne,selectedValuesKeyboardNavDescriptionId:_e,textAlign:oe,textTagListData:nt,userInput:We,virtualKeyboard:Z.isTablet()?_:void 0,...Te,...Je,...Ye}),xt=ht?Z.isPhone()?t.jsx(Pe,{"aria-describedby":he.ariaDescribedBy,"aria-label":it,assistiveText:a,collectionRenderer:c??ct,data:b,dropdownId:tt,enabledElementRef:ie,helpSourceLink:y,helpSourceText:x,isAddToListShown:we,isDisabled:ee,isEmptyResults:Ee,isFocused:ke,isLoading:$e,isOpen:ht,isReadonly:te,isRequired:f,isSelectedOnlyView:Le,itemText:g,label:F,liveRegionText:pt,placeholder:K,propIsLoading:v,selectedValuesDescriptionId:Ne,setDropdownOpen:He,setUserInput:ze,stopFiltering:qe,textAlign:oe,textTagListRef:Ye.textTagListRef,userAssistanceDensity:le,userInput:We,valueItems:O,virtualKeyboard:_,onAddToListAction:pe.onAction,onCommit:L,onFieldBlur:de.onFocusOut,onFieldFocus:de.onFocusIn,onFieldInput:Te.onInput,onFieldKeyDown:Te.onKeyDown,onFieldKeyUp:Te.onKeyUp}):t.jsx(De,{...ve,assistiveText:a,collectionRenderer:c??ct,collectionRendererContext:be,dropdownId:tt,dropdownRef:Se,helpSourceLink:y,helpSourceText:x,isAddToListShown:we,isDisabled:ee,isDropdownAbove:Ae,isEmptyResults:Ee,isOpen:ht,isReadonly:te,label:F,mainFieldRef:Be,onAddToListAction:pe.onAction,userAssistanceDensity:le}):null;return t.jsxs(N.Fragment,{children:[t.jsx(p.FormFieldContext.Provider,{value:Ze,children:t.jsx(Ie,{columnSpan:h,compactUserAssistance:rt,fieldLabel:F,hasInsideLabel:ut,inlineUserAssistance:at,isDropdownArrowShown:!0,isDropdownSelectedOnlyView:Le,isSelectedValuesCountShown:fe,mainFieldRef:Be,onBlur:de.onFocusOut,onFocus:de.onFocusIn,onDropdownArrowClick:me.onClick,onSelectedValuesCountKeyDown:Me.onKeyDown,onSelectedValuesCountKeyUp:Me.onKeyUp,onSelectedValuesCountMouseDown:Me.onMouseDown,onSelectedValuesCountToggle:Me.onToggle,selectedValuesCount:O?.length,testId:V,...lt,...Oe,...Xe,children:yt})}),xt]})}));e.SelectMultiple=Oe}));
//# sourceMappingURL=SelectMultiple-05de2e07.js.map
