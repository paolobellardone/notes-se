define(['exports', 'preact/jsx-runtime', 'preact/hooks', './mergeProps-bcfa6a92', './classNames-08d99695', './useId-c9578d26', './UNSAFE_NavigationList/themes/NavigationListStyles.css', './collectionUtils-f4de3e13', './useCollectionFocusRing-9dab85a9', './useCurrentKey-5a5ffb1e', 'preact/compat', './useTestId-d0c49456', './BaseNavigationListItem-ef8bf611'], (function(e,t,n,r,o,a,i,s,c,l,u,d,y){"use strict";const f=(e,t,n)=>{const r=e.closest(t),o=e.closest(n);return r?.contains(o)?null:s.keyExtractor(e,t)},g=(e,t,n)=>{const r=n.indexOf(e);if(r>0){const e=n[r===n.length-1?r-1:r+1];if(-1!==t.indexOf(e))return e}return t[0]},v=u.forwardRef((({children:e,selection:v,onSelectionChange:m,onRemove:b,"aria-label":K,"aria-labelledby":h,testId:C},x)=>{const I=n.useRef(null),{showFocusRing:R,currentKey:k,onCurrentKeyChange:N,containerHandlers:w,onKeyDown:p}=function({containerRef:e,selection:t,onRemove:o,onSelectionChange:a,children:i}){const u='[role="tab"]',[d,y]=n.useState(t),v=n.useCallback((e=>{y(e.value)}),[]),{currentKeyProps:m}=l.useCurrentKey((e=>o?f(e,u,"[data-oj-navigationlist-item-remove-icon]"):s.keyExtractor(e,u)),!1,s.getPrevNextKeyUsingRef(e,d,!0,u),s.getPrevNextKeyUsingRef(e,d,!1,u),void 0,void 0,d,v),[b,K]=c.useCollectionFocusRing(e,["Home","End","ArrowUp","ArrowDown"]),h={onFocus:n.useCallback((()=>{if(e.current&&void 0===d){const t=s.getFirstVisibleKey(e.current,u);t&&y(t)}}),[d,e])},C=n.useRef();n.useEffect((()=>{if(e.current){const t=Array.from(e.current.querySelectorAll(u),(e=>s.getKey(e)));if(null!=d&&-1!==t.indexOf(d)){const t=s.findElementByKey(e.current,d,u);t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView({block:"nearest"})}else d&&-1===t.indexOf(d)&&(C.current?y(g(d,t,C.current)):y(t[0])),C.current=t}}),[i,d,e]);const x=n.useCallback((t=>{if(("Home"===t.key||"End"===t.key)&&e.current&&d){const n=Array.from(e.current.querySelectorAll(u),(e=>s.getKey(e)));v?.({value:n["Home"===t.key?0:n.length-1]})}!d||"Enter"!==t.key&&" "!==t.key||a?.({value:d,reason:"keyboard"}),d&&"Delete"===t.key&&o?.({value:d})}),[d,a,o,v,e]);return{showFocusRing:b,currentKey:d,onCurrentKeyChange:v,onKeyDown:x,containerHandlers:r.mergeProps(K,m,h)}}({containerRef:I,selection:v,onRemove:b,onSelectionChange:m,children:e}),S={onKeyDown:p},L=o.classNames([i.navigationListStyles.uListStyle]),E=a.useId()+"_",F=d.useTestId(C);return u.useImperativeHandle(x,(()=>({focus:()=>{I.current&&I.current.focus()},blur:()=>{I.current&&I.current.focus()}}))),t.jsx("ul",{"aria-label":K,"aria-labelledby":h,role:"tablist",ref:I,"aria-orientation":"vertical",tabIndex:0,"aria-activedescendant":k?E+k:"",...r.mergeProps(S,w),...F,class:L,children:t.jsx(y.NavigationListContext.Provider,{value:{selection:v,onSelectionChange:m,onCurrentKeyChange:N,currentKey:k,showFocusRing:R,navigationListItemPrefix:E,onRemove:b},children:e})})}));e.NavigationList=v,e.NavigationListItem=function({itemKey:e,label:n,badge:r,metadata:o,severity:a}){return t.jsx(y.BaseNavigationListItem,{itemKey:e,label:n,badge:r,metadata:o,severity:a})}}));
//# sourceMappingURL=NavigationListItem-4a6857ae.js.map
