define("oj-c/hooks/UNSAFE_useMergedFormContext/useMergedFormContext",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useFormContext"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useMergedFormContext=void 0,e.useMergedFormContext=function({propContainerReadonly:e,propLabelWrapping:a,propReadonly:s,propUserAssistanceDensity:n}){const r=(0,t.useFormContext)(),o=n??r.userAssistanceDensity,i=s??r.isReadonly,{isFormLayout:l,isReadonly:u,labelWrapping:d,...c}=r;return{containerProps:{...c,isFormLayout:void 0!==e||l,isReadonly:e??u,labelWrapping:a??d},readonlyValue:i,uadValue:o}}})),define("oj-c/editable-value/UNSAFE_useAssistiveText/useAssistiveText",["require","exports","preact/hooks"],(function(require,e,t){"use strict";function a(e,t,a,s,n,r){const o="compact"!==r?a?.definition:void 0;return e?.instruction||("none"===n?.validatorHint?void 0:t)||o||("none"===n?.converterHint?void 0:s)}function s(e){if(!e.length)return;return e.map((e=>"function"==typeof e.getHint?e.getHint():void 0)).filter(Boolean).join("\n")}Object.defineProperty(e,"__esModule",{value:!0}),e.useAssistiveText=void 0,e.useAssistiveText=function({addBusyState:e,converter:n,displayOptions:r,help:o,helpHints:i,userAssistanceDensity:l,validators:u}){const[d,c]=(0,t.useState)(u&&u.length?s(u):void 0),f=(0,t.useRef)();(0,t.useEffect)((()=>{if(!u||!u.length)return void c(void 0);c(s(u));const t=u.map((e=>e.hint)).filter(Boolean),a=f.current=Symbol(),n=e?.("resolving the async validator hints");Promise.allSettled(t).then((e=>{c((t=>{const s=e.map((e=>"fulfilled"===e.status?e.value:void 0)).filter(Boolean);return a===f.current&&s.length?[t,...s].join("\n"):t})),n?.()}))}),[u]);const p="compact"!==l?i?.sourceText:i?.definition||i?.sourceText;return{assistiveText:a(o,d,i,n?.getHint?.()??void 0,r,l),helpSourceLink:i?.source,helpSourceText:p}}})),define("oj-c/hooks/UNSAFE_useDataProvider/utils",["require","exports"],(function(require,e){"use strict";function t(e,t,a,s){const n=[...s];return e.forEach(((e,s)=>{const r={data:t[s],key:a[s]?.key,metadata:a[s]};e>=0?n.splice(e,0,r):n.push(r)})),n}async function a(e,t){const a=[],s=(await e.fetchByKeys({keys:t})).results;for(const e of t)if(s.has(e)){const t=s.get(e);a.push({...t,key:e})}return a}function s(e,t){return e.has(t)?e.get(t):-1}function n(e,t){const a=[...t];return e.sort(((e,t)=>t-e)),e.forEach((e=>{e<a.length&&a.splice(e,1)})),a}Object.defineProperty(e,"__esModule",{value:!0}),e.getUpdatedItemsFromMutationDetail=void 0,e.getUpdatedItemsFromMutationDetail=async function(e,r,o){const{add:i,remove:l,update:u}=e??{},d=new Map;for(const[e,t]of r.entries())d.set(t.key,e);let c=[...r];return l&&(c=function(e,t,a){const{indexes:r,keys:o}=e;let i=[...t];r?.length?i=n(r,i):o?.size&&(i=function(e,t,a){const r=[];return e.forEach((e=>{const t=s(a,e);-1!==t&&r.push(t)})),n(r,t)}(o,i,a));return i}(l,c,d)),i&&(c=await async function(e,n,r,o){const{addBeforeKeys:i,data:l,indexes:u,keys:d,metadata:c}=e;let f=[...n],p=l||[],v=c||[];if(0===p.length&&d?.size){const e=await a(o,d)??[];p=e.map((e=>e.data)),v=e.map((e=>e.metadata))}0===v.length&&d?.size&&(v=[...d].map((e=>({key:e}))));p.length&&(f=u?.length?t(u,p,v,f):i?.length?function(e,a,n,r){const o=[],i=[];return e.forEach((e=>{o.push(s(r,e)),i.push({key:e})})),t(o,a,i,n)}(i,p,f,r):function(e,a,s){return t(new Array(e.length).fill(-1),e,a,s)}(p,v,f));return f}(i,c,d,o)),u&&(c=await async function(e,t,n,r){const{data:o,indexes:i,keys:l,metadata:u}=e;let d=[...t],c=o||[],f=u||[];if(0===c.length&&l?.size){const e=await a(r,l)??[];c=e.map((e=>e.data)),f=e.map((e=>e.metadata))}0===f.length&&l?.size&&(f=[...l].map((e=>({key:e}))));c.length&&(i?.length?d=function(e,t,a,s){const n=[...s];return e.forEach(((e,s)=>{if(n[e]){const r={data:t[s],key:a[s]?.key,metadata:a[s]};n.splice(e,1,r)}})),n}(i,c,f,d):l?.size&&(d=function(e,t,a,n,r){const o=[...n];return e.forEach((e=>{const n=s(r,e),i={data:t[n],key:a[n]?.key,metadata:a[n]};n>=0&&o.splice(n,1,i)})),o}(l,c,f,d,n)));return d}(u,c,d,o)),c}})),define("oj-c/hooks/UNSAFE_useDataProvider/DataProviderHandler",["require","exports","./utils"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataProviderHandler=void 0;e.DataProviderHandler=class{constructor(e,a,s){this.handleMutateEvent=async e=>{const{detail:a}=e,s=this.addBusyState("updating data from mutation event"),n=await(0,t.getUpdatedItemsFromMutationDetail)(a,this.currentData,this.dataProvider);s?.(),this.currentData=n,this.callback?.onDataUpdated?.(n)},this.handleRefreshEvent=()=>{this._fetchDataAndNotify()},this.addBusyState=a,this.callback=s,this.dataProvider=e,this.currentData=[],e.addEventListener("refresh",this.handleRefreshEvent),e.addEventListener("mutate",this.handleMutateEvent),this._fetchDataAndNotify()}destroy(){this.callback=void 0,this.currentData=[],this.dataProvider.removeEventListener("refresh",this.handleRefreshEvent),this.dataProvider.removeEventListener("mutate",this.handleMutateEvent)}async _fetchData(){const e=[],t=this.dataProvider.fetchFirst({size:-1});for await(const a of t){const t=a.data.map(((e,t)=>({data:e,key:a.metadata[t].key,metadata:a.metadata[t]})));e.push(...t)}return this.currentData=e.slice(),e}async _fetchDataAndNotify(){const e=this.addBusyState("fetching data"),t=await this._fetchData();this.callback?.onDataUpdated?.(t),e()}}})),define("oj-c/hooks/UNSAFE_useDataProvider/useDataProvider",["require","exports","preact/hooks","./DataProviderHandler"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDataProvider=void 0,e.useDataProvider=function({addBusyState:e,data:s}){const[n,r]=(0,t.useState)([]),o=(0,t.useRef)();return(0,t.useEffect)((()=>(void 0!==s&&(o.current=new a.DataProviderHandler(s,e,{onDataUpdated:r})),()=>{o.current?.destroy(),o.current=void 0})),[s,e]),{data:n}}})),define("oj-c/editable-value/utils/utils",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isShallowEqual=e.normalizeValue=e.treatNull=e.createMessageFromError=void 0,e.createMessageFromError=function(e){return"function"==typeof e.getMessage?{severity:"error",detail:e.getMessage().detail}:{severity:"error",detail:e.message}},e.treatNull=function(e,t){return null===e?t:e},e.normalizeValue=function(e){return"string"==typeof e&&""===e?null:e};e.isShallowEqual=(e,t)=>e===t||e.length===t.length&&e.every(((e,a)=>e===t[a]))})),define("oj-c/editable-value/UNSAFE_useComponentMessaging/useComponentMessaging",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useUncontrolledState","preact/hooks","../utils/utils"],(function(require,e,t,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useComponentMessaging=void 0,e.useComponentMessaging=function({messagesCustom:e=[],onMessagesCustomChanged:n}){const[r,o]=(0,t.useUncontrolledState)(e,n),[i,l]=(0,a.useState)([]),[u,d]=(0,a.useState)([]),c=(0,a.useRef)(e),f=(0,a.useCallback)(((...e)=>{l((t=>[...t,...e]))}),[]),p=(0,a.useCallback)((e=>{l((t=>[...t,e]))}),[]),v=(0,a.useCallback)((()=>{l([]),d([])}),[]),h=(0,a.useCallback)((()=>{d([])}),[]),y=(0,a.useCallback)((()=>{l([]),d([]),o([])}),[]),g=(0,a.useCallback)((()=>r.some((e=>"error"===e.severity))),[r]),m=(0,a.useCallback)((()=>0===i.length&&0===u.length&&!1===g()),[i,u,g]),b=(0,a.useCallback)((()=>0!==u.length),[u]),V=(0,a.useCallback)((()=>{l([...i,...u]),d([])}),[i,u]);return(0,a.useEffect)((()=>{c.current!==e&&(c.current=e,(0,s.isShallowEqual)(r,e)||o(e))}),[r,e]),(0,a.useMemo)((()=>({componentMessages:i,deferredComponentMessages:u,messagesCustom:r,visibleMessages:[...r,...i],addComponentMessage:f,addDeferredComponentMessage:p,clearAllComponentMessages:v,clearAllMessages:y,clearDeferredComponentMessages:h,hasCustomErrorMessages:g,hasHiddenMessages:b,hasNoErrorMessages:m,setComponentMessages:l,setDeferredComponentMessages:d,showHiddenMessages:V})),[i,u,r,g,b,m,V])}})),define("oj-c/editable-value/UNSAFE_useConverter/useConverter",["require","exports","ojs/ojconverter-nativenumber","preact/hooks","@oracle/oraclejet-preact/hooks/UNSAFE_useTranslationBundle","../utils/utils"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useConverter=e.ConverterErrorSymbol=void 0,e.ConverterErrorSymbol=Symbol("ConverterError"),e.useConverter=function({componentMessagingState:r,validationState:o,converter:i}){const l=(0,s.useTranslationBundle)("@oracle/oraclejet-preact").inputNumber_converterParseError(),u=(0,a.useCallback)((a=>{if(!i||(""===(s=a)||null===s))return a;var s;try{return i.parse(a)}catch(a){const s=a?.cause===t.USER_INPUT_ERROR?{severity:"error",detail:l}:(0,n.createMessageFromError)(a);return r.setComponentMessages([s]),o.setValid("invalidShown"),e.ConverterErrorSymbol}}),[i,r,o]),d=(0,a.useCallback)(((e,t=!1)=>{if(!i||function(e){return null===e}(e))return(0,n.treatNull)(e,"")??"";try{return i.format(e)}catch(a){return t||(r.setComponentMessages([(0,n.createMessageFromError)(a)]),o.setValid("invalidShown")),(0,n.treatNull)(e,"")}}),[i,r,o]);return(0,a.useMemo)((()=>({format:d,parse:u})),[d,u])}})),define("oj-c/editable-value/UNSAFE_useConverterLifecycle/useConverterLifecycle",["require","exports","preact/hooks"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useConverterLifecycle=void 0,e.useConverterLifecycle=function({converter:e,validationState:a,refreshDisplayValue:s,runFullValidationAndUpdateValue:n}){const r=(0,t.useRef)(e);(0,t.useEffect)((()=>{if(r.current===e)return;r.current=e;const{valid:t}=a;if("invalidShown"===t)n();else s()}),[e,a,s,n])}})),define("oj-c/editable-value/UNSAFE_useDeferredValidators/useDeferredValidators",["require","exports","ojs/ojvalidator-required","preact/hooks","@oracle/oraclejet-preact/hooks/UNSAFE_useTranslationBundle"],(function(require,e,t,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDeferredValidators=void 0,e.useDeferredValidators=function({labelHint:e,required:n,requiredMessageDetail:r}){const o=(0,s.useTranslationBundle)("@oracle/oraclejet-preact"),i=r||o.formControl_requiredMessageDetail(),l=(0,a.useMemo)((()=>n?new t({label:e,messageDetail:i}):null),[n]);return(0,a.useMemo)((()=>[l].filter(Boolean)),[l])}})),define("oj-c/editable-value/UNSAFE_useStaleIdentity/useStaleIdentity",["require","exports","preact/hooks"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useStaleIdentity=void 0,e.useStaleIdentity=function(){const e=(0,t.useRef)(new Map);return{setStaleIdentity:(0,t.useCallback)((t=>{const a=Symbol();return e.current.set(t,a),{isStale:()=>a!==e.current.get(t)}}),[])}}})),define("oj-c/editable-value/UNSAFE_useValidators/useValidators",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useUncontrolledState","preact/hooks","../UNSAFE_useStaleIdentity/useStaleIdentity","../utils/utils"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useValidators=e.ValidationResult=void 0,e.ValidationResult={VALID:"VALID",INVALID:"INVALID",STALE:"STALE"},e.useValidators=function({componentMessagingState:r,defaultValidState:o,deferredValidators:i=[],validators:l=[],addBusyState:u,onValidChanged:d}){const[c,f]=(0,t.useUncontrolledState)(o,d),{setStaleIdentity:p}=(0,s.useStaleIdentity)();(0,a.useLayoutEffect)((()=>{void 0!==o&&d?.(o)}),[]);const{addComponentMessage:v,clearAllComponentMessages:h,clearAllMessages:y,hasCustomErrorMessages:g,setComponentMessages:m}=r,b=(0,a.useCallback)((async(e,t={})=>{const{doNotClearMessagesCustom:a=!1}=t,s=g();if(f("pending"),a?h():y(),0===l.length&&0===i.length)return f(s&&a?"invalidShown":"valid"),!0;function r(e,t){try{const a=e.validate(t);if(a instanceof Promise)return a.then((()=>{}),(e=>(0,n.createMessageFromError)(e)))}catch(e){return(0,n.createMessageFromError)(e)}}const o=[],d=[],c=V(e);if(void 0!==c&&o.push(...c),null!=e)for(const t of l){const a=r(t,e);void 0!==a&&(a instanceof Promise?d.push(a):o.push(a))}if(!o.length&&!d.length)return f(s&&a?"invalidShown":"valid"),!0;const b=0!==o.length;if(b&&(m(o),f("invalidShown")),!d.length)return!b;const C=u?.("running validation"),{isStale:S}=p("useValidators-validate");let E=!1;for(const e of d){const t=await e;t&&!S()&&(v(t),f("invalidShown"),E=!0)}return b||E||S()||f(s&&a?"invalidShown":"valid"),C?.(),!b&&!E}),[v,h,y,i,l]),V=(0,a.useCallback)((e=>{const t=[];for(const a of i)try{a.validate(e)}catch(e){t.push((0,n.createMessageFromError)(e))}if(t.length)return t}),[i]),C=(0,a.useCallback)((async(t,a={})=>{const{isStale:s}=p("useValidationLifeCycle-validateValueOnInternalChange"),n=u?.("running validateValueOnInternalChange"),r=await b(t,a);return n?.(),s()?e.ValidationResult.STALE:r?e.ValidationResult.VALID:e.ValidationResult.INVALID}),[u,b]),S=(0,a.useCallback)((t=>{const{clearAllMessages:a,setDeferredComponentMessages:s}=r;a();const n=V(t);return n?(s(n),f("invalidHidden")):f("valid"),e.ValidationResult.VALID}),[r,V]);return(0,a.useMemo)((()=>({valid:c,setValid:f,deferredValidate:V,fullValidate:b,validateValueOnExternalChange:S,validateValueOnInternalChange:C})),[c,V,b,S,C])}})),define("oj-c/editable-value/UNSAFE_useValidationLifecycle/useValidationLifecycle",["require","exports","preact/hooks","../UNSAFE_useConverter/useConverter","../UNSAFE_useValidators/useValidators","../utils/utils"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useValidationLifecycle=void 0,e.useValidationLifecycle=function({componentMessagingState:e,disabled:r,deferredValidators:o,readonly:i,validationState:l,validators:u,getValueForValidation:d,setValueAfterValidation:c}){const f=(0,t.useRef)(o),p=(0,t.useRef)(u),v=(0,t.useRef)(e.messagesCustom),h=(0,t.useRef)(i),y=(0,t.useRef)(r),g=(0,t.useRef)(!0),m=(0,t.useCallback)((async()=>{if(i||r)return;const{valid:e,validateValueOnInternalChange:t}=l,n=d(e);if(n===a.ConverterErrorSymbol)return;await t(n,{doNotClearMessagesCustom:!0})===s.ValidationResult.VALID&&c(n)}),[r,i,l,d,c]);return(0,t.useEffect)((()=>{if(!g.current)return;if(g.current=!1,i||r)return;const t=d("valid");if(t===a.ConverterErrorSymbol)return;const{deferredValidate:s,setValid:n}=l,{hasCustomErrorMessages:o,setDeferredComponentMessages:u}=e,c=s(t);c&&(u(c),n("invalidHidden")),o()&&n("invalidShown")}),[r,i]),(0,t.useEffect)((()=>{const t=f.current!==o&&0===o.length;if(f.current===o&&h.current===i&&y.current===r)return;h.current=i,y.current=r,f.current=o;if(!(t||!i&&!r))return;const{valid:s,deferredValidate:n,setValid:u}=l,{clearDeferredComponentMessages:c,setDeferredComponentMessages:p}=e;switch(s){case"valid":const e=d(s);if(e!==a.ConverterErrorSymbol){const t=n(e);t&&(p(t),u("invalidHidden"))}break;case"invalidHidden":0===o.length&&(u("valid"),c());break;case"invalidShown":m()}}),[r,i,o,e,l,d,m]),(0,t.useEffect)((()=>{if(p.current!==u&&(p.current=u,!i&&!r&&"invalidShown"===l.valid))m()}),[r,i,u,l]),(0,t.useEffect)((()=>{if((0,n.isShallowEqual)(v.current,e.messagesCustom))return;const{messagesCustom:t,hasCustomErrorMessages:a,hasHiddenMessages:s,hasNoErrorMessages:r}=e,{valid:o,setValid:i}=l;if(v.current=t,a())i("invalidShown");else{if("pending"===o)return;r()?i("valid"):s()&&i("invalidHidden")}}),[e,l]),{runFullValidationAndUpdateValue:m}}})),define("oj-c/editable-value/UNSAFE_useValue/useValue",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useUncontrolledState","preact/hooks","../utils/utils"],(function(require,e,t,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useValue=void 0,e.useValue=function({value:e,format:n,parse:r,onRawValueChanged:o,onTransientValueChanged:i,onValueChanged:l}){const[u,d]=(0,t.useUncontrolledState)(n(e,!0),o),[c,f]=(0,t.useUncontrolledState)(e,l);(0,a.useEffect)((()=>{void 0!==u&&o?.(u)}),[]);const[p,v]=(0,t.useUncontrolledState)(e,i);return(0,a.useEffect)((()=>{void 0!==e&&i?.(e)}),[]),{displayValue:u,transientValue:p,value:c,getValueForValidation:(0,a.useCallback)((e=>"invalidShown"!==e?c:r((0,s.normalizeValue)(u))),[u,c,r]),setValueAfterValidation:(0,a.useCallback)((e=>{f(e),d(n(e))}),[n]),setDisplayValue:d,setTransientValue:v,setValue:f,refreshDisplayValue:(0,a.useCallback)((()=>{d(n(c))}),[c,n])}}})),define("oj-c/editable-value/UNSAFE_useValueLifecycle/useValueLifecycle",["require","exports","preact/hooks","../UNSAFE_useValidators/useValidators"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useValueLifecycle=void 0,e.useValueLifecycle=function({value:e,valueState:s,format:n,validateValueOnExternalChange:r}){const o=(0,t.useRef)(e);if((0,t.useEffect)((()=>{const{value:e,setDisplayValue:t}=s;t(n(e))}),[]),o.current!==e&&(o.current=e,void 0!==e&&e!==s.value)){const{setDisplayValue:t,setValue:o}=s;r(e)===a.ValidationResult.VALID&&(o(e),t(n(e)))}}})),define("oj-c/editable-value/UNSAFE_useEditableValue/useEditableValue",["require","exports","preact/hooks","../UNSAFE_useComponentMessaging/useComponentMessaging","../UNSAFE_useConverter/useConverter","../UNSAFE_useConverterLifecycle/useConverterLifecycle","../UNSAFE_useDeferredValidators/useDeferredValidators","../UNSAFE_useValidationLifecycle/useValidationLifecycle","../UNSAFE_useValidators/useValidators","../UNSAFE_useValue/useValue","../UNSAFE_useValueLifecycle/useValueLifecycle","../utils/utils"],(function(require,e,t,a,s,n,r,o,i,l,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useEditableValue=void 0,e.useEditableValue=function({ariaDescribedBy:e,converter:c,disabled:f,displayOptions:p,implicitComponentValidator:v,labelHint:h,messagesCustom:y,readonly:g,required:m,requiredMessageDetail:b,shouldNormalizeValueOnCommit:V=!0,validators:C,value:S,addBusyState:E,onMessagesCustomChanged:k,onRawValueChanged:M,onValidChanged:A,onValueChanged:_,onTransientValueChanged:x,wrapValueState:D}){const j=(0,a.useComponentMessaging)({messagesCustom:y,onMessagesCustomChanged:k}),{clearAllMessages:F,visibleMessages:U}=j,P=(0,r.useDeferredValidators)({labelHint:h,required:m,requiredMessageDetail:b}),N=v?C?[v,...C]:[v]:C,w=(0,i.useValidators)({componentMessagingState:j,defaultValidState:"valid",deferredValidators:P,validators:N,addBusyState:E,onValidChanged:A}),{validateValueOnExternalChange:R,validateValueOnInternalChange:L}=w,{format:O,parse:q}=(0,s.useConverter)({componentMessagingState:j,converter:c,validationState:w}),I=(0,l.useValue)({value:S,format:O,parse:q,onRawValueChanged:M,onTransientValueChanged:x,onValueChanged:_}),T=D?D(I):I,{displayValue:H,value:B,getValueForValidation:z,setValueAfterValidation:W,refreshDisplayValue:K,setDisplayValue:G,setTransientValue:Y,setValue:J}=T,{runFullValidationAndUpdateValue:Q}=(0,o.useValidationLifecycle)({componentMessagingState:j,validationState:w,deferredValidators:P,validators:C,getValueForValidation:z,setValueAfterValidation:W,readonly:g,disabled:f});(0,n.useConverterLifecycle)({converter:c,validationState:w,refreshDisplayValue:K,runFullValidationAndUpdateValue:Q}),(0,u.useValueLifecycle)({value:S,valueState:T,format:O,validateValueOnExternalChange:R});const X=(0,t.useCallback)((e=>q(V?(0,d.normalizeValue)(e):e)),[V,q]),Z=(0,t.useCallback)((async(e,t=!0)=>{const a=await L(e);return a===i.ValidationResult.VALID&&t&&J(e),a}),[L]),$=(0,t.useCallback)((async({value:e})=>{const t=X(e);if(t===s.ConverterErrorSymbol)return;const a=t;await Z(a)===i.ValidationResult.VALID&&G(O(a))}),[O,Z,X]),ee=(0,t.useCallback)((({value:e})=>{G(e??"")}),[]),te=(0,t.useCallback)((()=>{F(),R(B),K()}),[B,F,K,R]),ae=(0,t.useCallback)((async()=>{if(g||f)return"valid";const{fullValidate:e}=w,{displayValue:t,value:a,setValueAfterValidation:n}=T,r=X(t);if(r===s.ConverterErrorSymbol)return"invalid";const o=r,i=E?.("running component method validate"),l=await e(o);return i?.(),l?(o!==a&&n(o),"valid"):"invalid"}),[w,T,E,X,g,f]),se=(0,t.useCallback)((()=>{const{hasHiddenMessages:e,showHiddenMessages:t}=j,{setValid:a}=w;e()&&(t(),a("invalidShown"))}),[j,w]);return{value:B,setValue:J,displayValue:H,setDisplayValue:G,setTransientValue:Y,methods:{reset:te,validate:ae,showMessages:se},textFieldProps:{messages:"none"!==p?.messages?U:void 0,value:H,"aria-describedby":e,onCommit:$,onInput:ee},onCommitValue:Z,format:O,normalizeAndParseValue:X,validateValueOnExternalChange:R}}})),define("oj-c/checkboxset/useCheckboxsetPreact",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useTranslationBundle","oj-c/editable-value/UNSAFE_useEditableValue/useEditableValue","preact/hooks","oj-c/editable-value/UNSAFE_useValidators/useValidators"],(function(require,e,t,a,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useCheckboxsetPreact=void 0,e.useCheckboxsetPreact=function({"aria-describedby":e,disabled:r,displayOptions:o,labelEdge:i,labelHint:l,labelStartWidth:u,messagesCustom:d,readonly:c,requiredMessageDetail:f,required:p,userAssistanceDensity:v,value:h,onMessagesCustomChanged:y,onValidChanged:g,onValueChanged:m},b){const V=(0,t.useTranslationBundle)("@oracle/oraclejet-preact"),C=f||V.checkboxSet_requiredMessageDetail(),{methods:S,onCommitValue:E,setDisplayValue:k,displayValue:M,textFieldProps:A}=(0,a.useEditableValue)({ariaDescribedBy:e,disabled:r,displayOptions:o,labelHint:l,messagesCustom:d,readonly:c,required:p,requiredMessageDetail:C,value:h,addBusyState:b,onMessagesCustomChanged:y,onValidChanged:g,onValueChanged:m}),_=(0,s.useCallback)((async({value:e})=>{const t=e?Array.from(e):null,a=await E(t)===n.ValidationResult.INVALID?null:t;k(a)}),[E,k]);return{methods:S,checkboxsetProps:{"aria-describedby":A["aria-describedby"],isRequired:p,isReadonly:c,isDisabled:r,label:l,labelEdge:i,labelStartWidth:u,messages:A.messages,onCommit:_,userAssistanceDensity:v,value:M}}}})),define("oj-c/checkboxset/checkboxset",["require","exports","preact/jsx-runtime","@oracle/oraclejet-preact/translationBundle","preact/hooks","preact/compat","ojs/ojcontext","@oracle/oraclejet-preact/utils/UNSAFE_styles/Layout","ojs/ojvcomponent","@oracle/oraclejet-preact/UNSAFE_CheckboxSet","@oracle/oraclejet-preact/UNSAFE_CheckboxItem","@oracle/oraclejet-preact/hooks/UNSAFE_useFormContext","oj-c/hooks/UNSAFE_useMergedFormContext/useMergedFormContext","@oracle/oraclejet-preact/hooks/UNSAFE_useTabbableMode","oj-c/editable-value/UNSAFE_useAssistiveText/useAssistiveText","oj-c/hooks/UNSAFE_useDataProvider/useDataProvider","./useCheckboxsetPreact","css!oj-c/checkboxset/checkboxset-styles.css"],(function(require,e,t,a,s,n,r,o,i,l,u,d,c,f,p,v,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkboxset=void 0;const y={messages:"display"},g={instruction:""},m={definition:"",source:""},b=[],V=(0,n.forwardRef)((({id:e,options:a,containerReadonly:n,displayOptions:f=y,help:V=g,helpHints:C=m,disabled:S=!1,direction:E="column",labelWrapping:k,messagesCustom:M=b,columnSpan:A=1,readonly:_,userAssistanceDensity:x,required:D=!1,value:j=null,...F},U)=>{const P=(0,s.useRef)(),N=(0,s.useRef)(),w=(0,s.useCallback)(((e="Checkboxset: busyState")=>P.current?r.getContext(P.current).getBusyContext().addBusyState({description:e}):()=>{}),[]),R=function(e){return e&&"fetchFirst"in e}(a),{containerProps:L,uadValue:O,readonlyValue:q}=(0,c.useMergedFormContext)({propContainerReadonly:n,propLabelWrapping:k,propReadonly:_,propUserAssistanceDensity:x}),{checkboxsetProps:I,methods:T}=(0,h.useCheckboxsetPreact)({displayOptions:f,readonly:q,required:D,messagesCustom:M,disabled:S,value:j,userAssistanceDensity:O,...F},w),{value:H,...B}=I,{data:z}=(0,v.useDataProvider)({data:R?a:void 0,addBusyState:w}),W=(0,s.useMemo)((()=>{const e=!R&&a?[...a]:[];return R?Array.isArray(z)?z.map((e=>({value:e.key,...e.data}))):[]:e}),[z,R,a]);(0,s.useImperativeHandle)(U,(()=>({blur:()=>N.current?.blur(),focus:()=>N.current?.focus(),...T})),[T]);const K=(0,p.useAssistiveText)({displayOptions:f,help:V,helpHints:C,userAssistanceDensity:O}),G=(0,s.useMemo)((()=>H?new Set(H):void 0),[H]);return(0,t.jsx)(i.Root,{id:e,ref:P,class:o.layoutSpanStyles.layoutSpanColumn[A],children:(0,t.jsx)(d.FormContext.Provider,{value:L,children:(0,t.jsx)(l.CheckboxSet,{ref:N,direction:E,...K,...B,userAssistanceDensity:O,value:G,children:W.map((({assistiveText:e,helpSourceLink:a,helpSourceText:s,label:n,value:r})=>(0,t.jsx)(u.CheckboxItem,{assistiveText:e,helpSourceLink:a,helpSourceText:s,value:r,children:n},r)))})})})})),C=(0,i.registerCustomElement)("oj-c-checkboxset",V,"Checkboxset",{properties:{containerReadonly:{type:"boolean",binding:{consume:{name:"containerReadonly"}}},columnSpan:{type:"number"},disabled:{type:"boolean"},direction:{type:"string",enumValues:["row","column"]},displayOptions:{type:"object",properties:{messages:{type:"string",enumValues:["none","display"]}}},help:{type:"object",properties:{instruction:{type:"string"}}},helpHints:{type:"object",properties:{definition:{type:"string"},source:{type:"string"},sourceText:{type:"string"}}},labelEdge:{type:"string",enumValues:["none","start","top","inside"],binding:{consume:{name:"containerLabelEdge"}}},labelHint:{type:"string"},labelStartWidth:{type:"number|string",binding:{consume:{name:"labelWidth"}}},messagesCustom:{type:"Array<object>",writeback:!0},readonly:{type:"boolean",binding:{consume:{name:"containerReadonly"}}},required:{type:"boolean"},userAssistanceDensity:{type:"string",enumValues:["compact","reflow","efficient"],binding:{consume:{name:"containerUserAssistanceDensity"}}},options:{type:"Array<object>|DataProvider"},labelWrapping:{type:"string",enumValues:["truncate","wrap"],binding:{consume:{name:"labelWrapping"}}},requiredMessageDetail:{type:"string"},valid:{type:"string",enumValues:["pending","valid","invalidHidden","invalidShown"],readOnly:!0,writeback:!0},value:{type:"Array<any>|null",writeback:!0}},extension:{_WRITEBACK_PROPS:["messagesCustom","valid","value"],_READ_ONLY_PROPS:["valid"],_OBSERVED_GLOBAL_PROPS:["aria-describedby","id"]},methods:{blur:{},focus:{},showMessages:{},reset:{},validate:{}}},{displayOptions:{messages:"display"},help:{instruction:""},helpHints:{definition:"",source:""},disabled:!1,direction:"column",messagesCustom:[],columnSpan:1,required:!1,value:null},{"@oracle/oraclejet-preact":a.default},{consume:[f.TabbableModeContext]});e.Checkboxset=C})),define("oj-c/checkboxset",["require","exports","oj-c/checkboxset/checkboxset"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkboxset=void 0,Object.defineProperty(e,"Checkboxset",{enumerable:!0,get:function(){return t.Checkboxset}})}));
//# sourceMappingURL=checkboxset.js.map