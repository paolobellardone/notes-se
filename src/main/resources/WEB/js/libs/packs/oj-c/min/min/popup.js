define("oj-c/popup/popup",["require","exports","preact/jsx-runtime","@oracle/oraclejet-preact/translationBundle","ojs/ojvcomponent","preact/hooks","@oracle/oraclejet-preact/UNSAFE_Popup","@oracle/oraclejet-preact/UNSAFE_Layer","ojs/ojcontext","css!oj-c/popup/popup-styles.css"],(function(require,e,t,n,o,r,i,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Popup=void 0;const c=Symbol.for("__oj_c_layer_content");e.Popup=(0,o.registerCustomElement)("oj-c-popup",(({id:e,opened:n=!1,children:l,anchor:u,launcher:p,placement:d,collision:m="fit",modality:f="modeless",offset:y,initialFocus:b="auto",autoDismiss:h="focusLoss",tail:x="none",variant:g="standard",onOpenedChanged:j,onOjOpen:A,onOjBeforeClose:O,onOjClose:_,onOjFocus:P,width:v,minWidth:w,maxWidth:E="calc(100vw - 3rem)",height:C,minHeight:R,maxHeight:L="calc(100vh - 3rem)",...S})=>{const F=(0,r.useRef)(null);let W=d;const k=(0,r.useRef)(null),B=(0,r.useRef)(null),H=(0,r.useRef)(),V=(0,r.useRef)(!1),D=(0,r.useCallback)((t=>F.current?a.getContext(F.current).getBusyContext().addBusyState({description:`oj-c-popup id='${e}' is ${t}`}):()=>{}),[e]),N=(0,r.useCallback)((e=>{if(F.current)if(e){e[s.LOGICAL_PARENT]=F.current,F.current[c]=e}else if(F.current[c]){delete F.current[c][s.LOGICAL_PARENT],delete F.current[c]}}),[]);let T;if((0,r.useEffect)((()=>()=>{H.current&&H.current()}),[]),(0,r.useEffect)((()=>{V.current?(H.current&&H.current(),H.current=D("animating")):V.current=!0}),[n,D]),"string"==typeof p){const e=document.querySelector(p);e&&(T=e)}else p instanceof HTMLElement?document.body.contains(p)&&(T=p):T=document.activeElement;let q;if(u)if(u instanceof Window||"window"===u)q="window";else if("string"==typeof u){q=document.querySelector(u)||T}else u instanceof Element?q=document.body.contains(u)?u:T:"object"!=typeof(G=u)||Array.isArray(G)||null===G||(q="number"==typeof u.x&&"number"==typeof u.y?u:T);else q=T;var G;d||(W="window"===q?"center":"bottom-start");const I={mainAxis:!0,crossAxis:!0},M={mainAxis:!1,crossAxis:!1};switch(m){case"none":I.mainAxis=!1,I.crossAxis=!1;break;case"fit":I.mainAxis=!1,I.crossAxis=!1,M.mainAxis=!0,M.crossAxis=!0;break;case"flipcenter":case"flipfit":M.mainAxis=!0,M.crossAxis=!0}const K=!d||(e=>["top","bottom"].indexOf(e.split("-")[0])>-1)(d),U={mainAxis:K?y?.y:y?.x,crossAxis:K?y?.x:y?.y},$=async e=>{try{await(O?.({detail:e})),j?.(!1)}catch(e){}};return k.current=q,B.current=T,(0,t.jsx)(o.Root,{ref:F,id:e,children:(0,t.jsx)(i.Popup,{ref:N,isOpen:n,anchorRef:"window"===k.current?void 0:k,launcherRef:B,placement:d??W,offset:U,flipOptions:I,shiftOptions:M,modality:f,initialFocus:b,tail:x,variant:g,onClose:async e=>{if("escapeKey"===e.reason)return $(e)},onClickOutside:async()=>{if("focusLoss"===h)return $({reason:"outsideClick"})},onTransitionEnd:async e=>{H.current&&(H.current(),H.current=void 0),e?A?.():_?.()},onFocusSet:()=>{P?.()},width:v,minWidth:w,maxWidth:E,height:C,minHeight:R,maxHeight:L,"aria-describedby":S["aria-describedby"],"aria-label":S["aria-label"],"aria-labelledby":S["aria-labelledby"],children:l})})}),"Popup",{slots:{"":{}},properties:{opened:{type:"boolean",writeback:!0},launcher:{type:"string|Element"},anchor:{type:"string|Element|object"},placement:{type:"string",enumValues:["center","end","start","top","bottom","top-start","top-end","top-start-corner","top-end-corner","start-top","start-bottom","start-top-corner","start-bottom-corner","bottom-start","bottom-end","bottom-start-corner","bottom-end-corner","end-top","end-bottom","end-top-corner","end-bottom-corner"]},modality:{type:"string",enumValues:["modal","modeless"]},autoDismiss:{type:"string",enumValues:["none","focusLoss"]},tail:{type:"string",enumValues:["none","simple"]},variant:{type:"string",enumValues:["standard","unstyled"]},initialFocus:{type:"string",enumValues:["auto","none","popup","firstFocusable"]},offset:{type:"number|object"},collision:{type:"string",enumValues:["none","flip","fit","flipfit","flipcenter"]},width:{type:"number|string"},minWidth:{type:"number|string"},maxWidth:{type:"number|string"},height:{type:"number|string"},minHeight:{type:"number|string"},maxHeight:{type:"number|string"}},events:{ojOpen:{},ojBeforeClose:{cancelable:!0},ojClose:{},ojFocus:{}},extension:{_WRITEBACK_PROPS:["opened"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["aria-describedby","aria-label","aria-labelledby","id"]}},{opened:!1,collision:"fit",modality:"modeless",initialFocus:"auto",autoDismiss:"focusLoss",tail:"none",variant:"standard",maxWidth:"calc(100vw - 3rem)",maxHeight:"calc(100vh - 3rem)"},{"@oracle/oraclejet-preact":n.default})})),define("oj-c/popup",["require","exports","oj-c/popup/popup"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Popup=void 0,Object.defineProperty(e,"Popup",{enumerable:!0,get:function(){return t.Popup}})}));
//# sourceMappingURL=popup.js.map