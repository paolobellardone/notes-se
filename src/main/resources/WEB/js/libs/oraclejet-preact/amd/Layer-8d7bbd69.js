define(['exports', 'preact/jsx-runtime', 'preact/compat', './LayerHost-0a244de8', './classNames-08d99695', './UNSAFE_Layer/themes/LayerStyles.css', './useThemeInterpolations-1f5fd8f3'], (function(e,t,r,s,o,a,n){"use strict";const l=Symbol.for("oj-logical-parent");e.LOGICAL_PARENT=l,e.Layer=({children:e,logicalParentRef:i,priority:y="popup",level:c="nearestAncestor"})=>{const u=r.useContext(s.LayerContext),[p,d]=r.useState(null),L=r.useRef(null),m=e=>{L.current=e,d(e)},f=n.useThemeInterpolations();let g=a.styles.popupPriorityStyle;switch(y){case"dialog":g=a.styles.dialogPriorityStyle;break;case"messages":g=a.styles.messagesPriorityStyle;break;default:g=a.styles.popupPriorityStyle}const S=o.classNames([f,a.baseStyle,g]);r.useLayoutEffect((()=>{const e="topLevel"===c?u.getRootLayerHost?.(y):u.getLayerHost?.(y);if(!e)return;const t=(e.ownerDocument??document).createElement("div");return t.setAttribute("data-oj-layer","true"),i&&(t[l]=i.current),e.appendChild(t),m(t),()=>{e&&t&&e.contains(t)&&(delete t[l],e.removeChild(t)),u.onLayerUnmount&&u.onLayerUnmount(t),m(null)}}),[i,u,c,y]),p&&(p.className=S);const h=()=>p;let P={};return u.getLayerHost&&(P={getRootLayerHost:u.getRootLayerHost?.bind(null,y),getLayerHost:h.bind(null)}),t.jsx(s.LayerContext.Provider,{value:P,children:p&&r.createPortal(e,p)})}}));
//# sourceMappingURL=Layer-8d7bbd69.js.map
