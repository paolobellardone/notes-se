define(['exports', 'preact/jsx-runtime', 'preact/compat', 'preact/hooks', './logger-0f873e29', './TabbableModeContext-a9c97640', './LayerHost-1b4d03f0', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-d208ce7b', './CompactUserAssistance-eb849bc5', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-304eef18', 'preact', 'css!./IconStyle.styles.css', './Popup-bba2ea15', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './classNames-08d99695', './keyboardUtils-71bc5d84', './getFormatParse-3d7186b3', './maskUtils-9370948f', './UNSAFE_InputTimeMask/themes/SegmentStyles.css', './clientHints-fff66be9', './useTranslationBundle-652e08a6', './timeUtils-82663955', './Flex-69dc7af4', './HiddenAccessible-037ef42d', './LiveRegion-345ac2a4', './stringUtils-0ae982c2', './useComponentTheme-5aa41a8f', './FormFieldContext-3c44aaaa', './useFormFieldContext-8196183c', './useUser-abae2493', './UNSAFE_TextField/themes/redwood/TextFieldInputTheme', './useDoubleTap-b6bf5458', './useTabbableMode-dc440317', './Label-a53aabb9', './TextFieldInput-ca306ad6', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-b8ee28da', './StyledTextField-3398bf94', './TextField-80908a0d', 'css!./LiveRegionStyles.styles.css', './useFocusableTextField-8b755b15', './FormContext-5130e198', './useFormContext-30acdd33', './useTextField-e6877c79', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './vanilla-extract-recipes-createRuntimeFn.esm-d881c69a', 'css!./MessageBannerStyles.styles.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'css!./MessageBannerVariants.styles.css', './IconButton-c2e5c1c5', './BaseButton-c6563bf2', './usePress-949a0d03', './usePressClick-b7b38da2', './useHover-7964884c', './useToggle-a29f97af', './useActive-bb5dc069', './useColorScheme-8358a6c9', './dimensions-fda85d6b', './size-f0e638ec', './utils-32e81a13', './colorUtils-7c069766', './_curry1-df649359', './mergeInterpolations-9ede4cf7', './mergeDeepWithKey-aaab9019', './_curry3-83878f86', './_curry2-86c52b86', './_isObject-42bafc94', './mergeProps-bcfa6a92', './UNSAFE_BaseButton/themes/redwood/BaseButtonTheme', './UNSAFE_BaseButton/themes/BaseButtonStyles.css', 'css!./BaseButtonStyles.styles.css', './UNSAFE_BaseButton/themes/redwood/BaseButtonVariants.css', 'module', './useTestId-d0c49456', './ButtonLabelLayout-ce54dfdc', './Text-0609bf4d', './UNSAFE_Text/themes/TextStyles.css', 'css!./TextStyles.styles.css', './useButtonLabelLayoutTheme-3237026f', './UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutTheme', './UNSAFE_ButtonLabelLayout/themes/ButtonLabelLayoutStyles.css', 'css!./ButtonLabelLayoutStyles.styles.css', './UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutBaseTheme.css', 'module', './UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutVariants.css', 'css!./ButtonLabelLayoutVariants.styles.css', './useTooltip-f7c1ad5c', './useId-c9578d26', './useFocus-4194fc59', './useTouch-37489bb5', './useAnimation-5a74955f', './useThemeInterpolations-95e6f849', './useScale-0fb08a15', './theme-a8f3d819', './Theme-d945adae', './useDensity-2b757d02', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'css!./TooltipContentVariants.styles.css', './buttonUtils-97878e90', './id-c70ab33c', 'css!./MessageStyles.styles.css', './MessageFormattingUtils-2e19d8de', './getLocale-ae79e654', './TransitionGroup-3b9d81b6', './MessagesContext-602a69a2', 'css!./ComponentMessageStyles.styles.css', 'module', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageVariants.css', './ComponentMessageContainer-8198785a', './MessagesManager-8af1b1ee', './SuccessS-6e3de7e4', './Icon-906e4e3c', './UNSAFE_Icon/themes/IconStyle.css', './ErrorS-6055c849', './InformationS-f3648bac', './WarningS-20a3ed2e', './PRIVATE_Message/themes/MessageStyles.css', './soundUtils-f6535f03', './useMessagesContext-1395a997', './Transition-04efcc49', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageTheme', './UNSAFE_ComponentMessage/themes/ComponentMessageStyles.css', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageBaseTheme.css', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceTheme', './UNSAFE_UserAssistance/themes/UserAssistanceStyles.css', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceBaseTheme.css', './InlineHelp-da5cabec', './InlineHelpSource-80327d99', './useInputGroupContext-e6e19f4f', './Separator-181f7541', './UNSAFE_Separator/themes/SeparatorStyles.css', 'css!./SeparatorStyles.styles.css', './CompactHelpSource-e5b889f6', './Help-7200f40e', './useFocusWithin-5a504fca', './UNSAFE_Label/themes/redwood/LabelTheme', './UNSAFE_Label/themes/LabelStyles.css', './UNSAFE_Label/themes/redwood/LabelBaseTheme.css', './EnvironmentProvider-4597f540', './LayerManager-6c0b0eed', './Floating-28ad0903', './useFloating-c8c92f6f', './positionUtils-6e4daa31', './refUtils-d354a169', './useOutsideClick-39a81428', './arrayUtils-6ee96a35', './Layer-9fb9ca67', './UNSAFE_Layer/themes/LayerStyles.css', 'css!./LayerStyles.styles.css', './useModal-536cb7ff', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'css!./FloatingStyles.styles.css', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-dynamic.esm-eceadd82', './UNSAFE_Floating/themes/FloatingContract.css', './tabbableUtils-428c264e', './head-9cb1a3da', './_arity-5a5f5f71', './_isArray-32602db6', './_isString-d0ada3cb', './FocusTrap-d351e5c9', './FocusTracker-f2995fde', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', 'css!./FocusTrackerStyles.styles.css', './Modal-991f1310', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css', './popupUtils-710dc910', './WindowOverlay-00523782', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'css!./WindowOverlayStyles.styles.css', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './usePopupAnimation-7023407f', './useAnimationStatus-86746674', './popupAnimationUtils-49b93365', './UNSAFE_Popup/themes/PopupContract.css', './UNSAFE_Popup/themes/redwood/PopupTheme', './UNSAFE_Popup/themes/redwood/PopupBaseTheme.css', 'css!./PopupStyles.styles.css', './types-2446783b', './calendarDateUtils-5e25297c', 'css!./SegmentStyles.styles2.css', './boxalignment-50db1e3a', 'css!./boxalignment.styles.css', './vanilla-extract-sprinkles-createRuntimeSprinkles.esm-84d30764', './flexbox-8521f6aa', 'css!./flexbox.styles.css', './flexitem-5db48325', 'css!./flexitem.styles.css', 'css!./FlexStyles.styles.css', './UNSAFE_TextField/themes/TextFieldInputStyles.css', 'css!./TextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/TextFieldInputVariants.css', 'css!./TextFieldInputVariants.styles.css', './CompactLabelAssistance-82361ea6', './UNSAFE_TextField/themes/redwood/TextFieldTheme', './UNSAFE_TextField/themes/TextFieldStyles.css', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', './UNSAFE_TextField/themes/redwood/TextFieldBaseTheme.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', 'css!./TextFieldVariants.styles.css', './useAccessibleContext-23e8a333', './useTextFieldInputHandlers-b1a48835', './textAlign-ef924afd', 'css!./text.styles.css', './TextFieldUtils-f3868e96', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputTheme', './UNSAFE_TextField/themes/ReadonlyTextFieldInputStyles.css', 'css!./ReadonlyTextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputVariants.css', './LabelValueLayout-6da5829a', './StyledLabelValueLayout-16380e6b', 'css!./LabelValueLayoutStyles.styles.css', './UNSAFE_TextField/themes/redwood/FormLayoutTheme', './UNSAFE_TextField/themes/FormLayoutStyles.css', './UNSAFE_TextField/themes/redwood/FormLayoutBaseTheme.css', 'module', './UNSAFE_Skeleton/themes/redwood/SkeletonTheme', './UNSAFE_Skeleton/themes/SkeletonStyles.css', './UNSAFE_Skeleton/themes/redwood/SkeletonBaseTheme.css', 'module', './UNSAFE_Skeleton/themes/redwood/SkeletonVariants.css', './LayoutStyles.css-c8bc984d', 'css!./LayoutStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldTheme', './UNSAFE_TextField/themes/ReadonlyTextFieldStyles.css', 'css!./ReadonlyTextFieldStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldVariants.css', 'css!./ReadonlyTextFieldVariants.styles.css', './useMessageSeverity-1d69e1ae', './useFormFieldContextProps-4e36b4c3'], (function(e,t,s,a,o,i,n,r,l,d,c,u,m,p,y,h,S,g,T,b,F,f,v,x,A,w,C,U,E,L,_,k,P,N,B,R,I,M,D,H,V,j,O,W,Z,q,$,z,G,K,J,Q,X,Y,ee,te,se,ae,oe,ie,ne,re,le,de,ce,ue,me,pe,ye,he,Se,ge,Te,be,Fe,fe,ve,xe,Ae,we,Ce,Ue,Ee,Le,_e,ke,Pe,Ne,Be,Re,Ie,Me,De,He,Ve,je,Oe,We,Ze,qe,$e,ze,Ge,Ke,Je,Qe,Xe,Ye,et,tt,st,at,ot,it,nt,rt,lt,dt,ct,ut,mt,pt,yt,ht,St,gt,Tt,bt,Ft,ft,vt,xt,At,wt,Ct,Ut,Et,Lt,_t,kt,Pt,Nt,Bt,Rt,It,Mt,Dt,Ht,Vt,jt,Ot,Wt,Zt,qt,$t,zt,Gt,Kt,Jt,Qt,Xt,Yt,es,ts,ss,as,os,is,ns,rs,ls,ds,cs,us,ms,ps,ys,hs,Ss,gs,Ts,bs,Fs,fs,vs,xs,As,ws,Cs,Us,Es,Ls,_s,ks,Ps,Ns,Bs,Rs,Is,Ms,Ds,Hs,Vs,js,Os,Ws,Zs,qs,$s,zs,Gs,Ks,Js,Qs,Xs,Ys,ea,ta,sa,aa,oa,ia,na,ra,la,da,ca,ua,ma,pa,ya,ha,Sa,ga,Ta,ba,Fa,fa,va,xa,Aa,wa,Ca,Ua,Ea,La,_a,ka,Pa,Na,Ba,Ra,Ia,Ma,Da,Ha,Va){"use strict";const ja=e=>/^\p{L}$/u.test(e),Oa=e=>Za(e).map((e=>e.textContent)).join(""),Wa=(e,t)=>{Za(e)[0].textContent=t},Za=e=>Array.from(e.childNodes).filter((e=>!(e.nodeType===Node.ELEMENT_NODE&&"true"===e.getAttribute("aria-hidden")))),qa=e=>{e.preventDefault()},$a=()=>"ios"===k.getClientHints().platform,za=({amPm:e,"aria-label":s,"aria-valuemax":o,"aria-valuemin":i,"aria-valuenow":n,"aria-valuetext":r,inputRef:l,isDisabled:d,isHidden:c,isHighlighted:u,isInvalid:m,isRequired:p,isSelected:y,onChange:h,placeholder:S,text:g,type:T})=>{const b=g&&g.length>0,F=C.classNames([_.segmentStyles.base,y&&_.segmentStyles.selected,u&&_.segmentStyles.highlighted]),f=C.classNames([_.segmentStyles.placeholder,c||b?_.segmentStyles.hidden:_.segmentStyles.notHidden]),v=P.useTranslationBundle("@oracle/oraclejet-preact").formControl_empty_segment(),x=a.useRef(null),A=l??x,w=a.useRef(null),E=a.useCallback((e=>{if(!0!==d&&"Tab"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Enter"!==e.key&&!U.isSelectAll(e)){if(u){if(U.isBackspaceOrDelete(e)||"Backspace"===e.key)return}else if(L.isNumberOnlyString(e.key))"dayPeriod"!==T&&h?.({actionType:"updateSegment",data:{type:T,text:e.key}});else if(U.isBackspaceOrDelete(e)||"Backspace"===e.key)h?.({actionType:"clearSegment",data:{type:T}});else if("ArrowUp"===e.key)h?.({actionType:"step",data:{direction:"increase",type:T}});else if("ArrowDown"===e.key)h?.({actionType:"step",data:{direction:"decrease",type:T}});else if("PageUp"===e.key)h?.({actionType:"page",data:{direction:"increase",type:T}});else if("PageDown"===e.key)h?.({actionType:"page",data:{direction:"decrease",type:T}});else if("Home"===e.key)h?.({actionType:"goToHome",data:{type:T}});else if("End"===e.key)h?.({actionType:"goToEnd",data:{type:T}});else if("dayPeriod"===T)return;e.preventDefault(),e.stopPropagation()}}),[d,u,h,T]),k=function(e,t,s,o){const i=a.useRef(null),n=a.useCallback((e=>{o?.({actionType:"updateDayPeriodSegment",data:{type:"dayPeriod","aria-valuenow":e}})}),[o]);return{onBeforeInput:a.useCallback((a=>{if(a.preventDefault(),"insertCompositionText"===a.inputType)s.current&&(i.current=Oa(s.current));else if(null!==a.data&&""!==a.data.trim()&&ja(a.data)){t.current=null!==t.current?t.current+a.data:a.data;const s=N.getAmPmMatchType(e,t.current);if("am"===s||"pm"===s){const e="am"===s?N.AM_VALUE:N.PM_VALUE;n(e)}"both"!==s&&(t.current=null)}}),[e,t,s,n]),onInput:a.useCallback((t=>{const{inputType:a,data:o}=t;if("insertCompositionText"===a&&(s.current&&null!==i.current&&Wa(s.current,i.current),null!==o&&""!==o.trim())){const t=N.getAmPmMatchType(e,o);if("am"===t||"pm"===t){const e="am"===t?N.AM_VALUE:N.PM_VALUE;n(e)}}}),[e,s,n])}}(e??{am:"AM",pm:"PM"},w,A,h);a.useEffect((()=>{y?A.current?.focus():"dayPeriod"===T&&(w.current=null)}),[y,A,T]);const B=void 0===r?v:n?.toString()===r?void 0:r,R={"data-segment":[T]};return t.jsx("div",{children:t.jsxs("div",{ref:A,role:$a()?"textbox":"spinbutton","aria-disabled":d,"aria-invalid":m||void 0,"aria-label":s,"aria-required":p,"aria-valuemin":$a()?void 0:i,"aria-valuemax":$a()?void 0:o,"aria-valuenow":$a()?void 0:n,"aria-valuetext":$a()?void 0:B,autocapitalize:"off",autocorrect:"off",class:F,contentEditable:!d,..."dayPeriod"===T?k:{},...R,enterkeyhint:d?void 0:"done",inputMode:d?"none":"dayPeriod"!==T?"numeric":"text",onCut:qa,onKeyDown:E,onPaste:qa,spellcheck:!1,tabIndex:y?0:-1,children:[t.jsx("span",{"aria-hidden":"true",class:f,...R,children:S}),g]})})},Ga=(e,t)=>{if("reset"===t.actionType)return t.data;const s=t.data?.type,a=Qa(e.segments,s);switch(t.actionType){case"clearTime":{const t=io(so(e.segments),e.orderedSegments);return ho(e,t,!1)}case"clearSegment":{const t=to(a);return eo(e,s,t)}case"deselectAndComplete":{let t=po(e.segments);return t=uo(t),ho(e,t,!1)}case"commitOnEnter":{const t=po(e.segments);return{...ho(e,t,!1),committing:!0}}case"commitOnBlur":{let t=po(e.segments);t=uo(t);return{...ho(e,t,!1),committing:!0}}case"committed":return{...e,committing:!1};case"goToEnd":{const t=bo(s,a);return eo(e,s,t,!1)}case"goToHome":{const t=To(s,a);return eo(e,s,t,!1)}case"page":{const o=t.data?.direction;if(void 0===o)return e;const i=Fo(s,a,"page",o);return eo(e,s,i,!1)}case"selectTime":return yo(e);case"selectFirst":{const t=io(e.segments,e.orderedSegments);return ho(e,t,!1)}case"selectNext":{const t=mo(e.segments,!0),s=lo(t,e.orderedSegments);return ho(e,s,!1)}case"selectPrevious":{const t=co(e.segments,e.orderedSegments);return ho(e,t,!1)}case"selectSegment":{const t=oo(e.segments,s);return ho(e,t,!1)}case"step":{const o=t.data?.direction;if(void 0===o)return e;const i=Fo(s,a,"step",o);return eo(e,s,i,!1)}case"updateDayPeriodSegment":if("dayPeriod"===s){const o=t.data?.["aria-valuenow"];if(12===o||0===o){const t=go(s,o,a);return eo(e,s,t,!1)}}return e;case"updateSegment":{if("0"===t.data?.text&&"hour"===s&&1===a["aria-valuemin"]&&(a.isComplete||void 0===a["aria-valuenow"])){const t={...a,digitCount:1};return eo(e,s,t,!1,!1)}const o=ao(s,a,t);return eo(e,s,o)}default:throw new Error("Unknown action type")}},Ka=e=>+e,Ja=e=>e.toString(),Qa=(e,t)=>e.find((e=>e.type===t)),Xa=e=>e.some((e=>void 0!==e["aria-valuenow"])),Ya=e=>e.map((e=>{if(void 0!==e["aria-valuenow"])return e;let t,s;return"millisecond"===e.type?(t="000",s=0):["minute","second"].includes(e.type)?(t="00",s=0):"dayPeriod"===e.type&&(t=e.amPm?.am,s=0),void 0!==t?{...e,"aria-valuenow":s,text:t,isComplete:!0,"aria-valuetext":t,isAutoFilled:!0}:e})),eo=(e,t,s,a=!0,o=!0)=>{let i=((e,t,s,a,o,i)=>{const n=((e,t,s)=>e.map((e=>e.type===t?s:e)))(e,s,a);let r=n;return"hour"===s&&a.isComplete&&i&&(r=Ya(r)),r=a.isComplete&&o?lo(r,t):r,r})(e.segments,e.orderedSegments,t,s,a,o);return"hour"!==t&&(i=i.map((e=>({...e,isAutoFilled:!1})))),ho(e,i,e.isTimeSelected)},to=e=>({...e,"aria-valuetext":void 0,"aria-valuenow":void 0,digitCount:0,text:void 0,isComplete:!1}),so=e=>e.map((e=>({...to(e),isAutoFilled:!1}))),ao=(e,t,s)=>{const a=s.data?.text,o=t["aria-valuemax"],i=t["aria-valuemin"],n=t.hasLeadingZeros??0===i,r=t.isComplete;let l=t.digitCount||0;const d="millisecond"===e?3:2;let c=t.text||"";c=r?a:(t.text??"")+a,n&&c.length>d?c=c.slice(c.length-d):n&&(c=c.padStart(d,"0")),l+=1;var u,m;let p=(u=Ka(c),m=o,u>=i&&u<=m)?c:n?a.padStart(d,"0"):a;const y=Ka(p),h=((e,t,s,a)=>s>=a||Ka(Ja(e)+"0")>t)(y,o,l,d);return l=h?0:l,!1===n&&"hour"===e&&h&&p.startsWith("0")&&(p=p.substring(1)),{...t,"aria-valuetext":p,"aria-valuenow":y,digitCount:l,text:p,isComplete:h,isAutoFilled:!1}},oo=(e,t)=>e.map((e=>({...e,isSelected:e.type===t}))),io=(e,t)=>oo(e,t[0]),no=(e,t)=>{const s=e.find((e=>!0===e.isSelected));return void 0===s?-1:t.findIndex((e=>e===s.type))},ro=e=>e.map((e=>e.isSelected&&void 0!==e["aria-valuenow"]?{...e,isComplete:!0,digitCount:0}:e)),lo=(e,t)=>{const s=no(e,t);return s===t.length-1?e:oo(ro(e),t[s+1])},co=(e,t)=>{const s=no(e,t);return 0===s?e:-1===s?io(e,t):oo(ro(e),t[s-1])},uo=e=>e.map((e=>({...e,isSelected:!1,isComplete:!!e.text}))),mo=(e,t)=>{const s=e.find((e=>"hour"===e.type));return(t?s?.isSelected&&void 0!==s?.text:void 0!==s?.text)?Ya(e):e},po=e=>(e=>{const t=e.find((e=>"dayPeriod"===e.type)),s=e.find((e=>"hour"===e.type));return void 0===s?.text&&void 0!==t?.text?e.map((e=>"dayPeriod"===e.type?to(e):{...e})):e})(mo(e)),yo=e=>e.isCompleteTime?ho(e,e.segments.map((e=>({...e,isSelected:!1}))),!0):e,ho=(e,t,s)=>{const a=(e=>[...e.orderedSegments])(e),o=e.currentTime,i=(e=>{if(!Xa(e))return;const t=e.find((e=>"dayPeriod"===e.type))?.["aria-valuenow"],s=e.find((e=>"hour"===e.type))?.["aria-valuenow"];let a=s;void 0!==t&&void 0!==s&&(a=vo(t,s));const o=e.filter((e=>"dayPeriod"!==e.type)).reduce(((e,t)=>{const s="hour"===t.type?a:t["aria-valuenow"];return void 0!==s&&(e[t.type]=s),e}),{});return 0===Object.entries(o).length?void 0:o})(t);let n=!0;if(void 0!==o&&void 0!==i){N.hasSegmentsNotDisplayed(a,o)&&(n=N.displayedTimeSegmentsAreDifferent(a,o,i))}const r=t.some((e=>!0===e.isAutoFilled));return{committing:e.committing,currentTime:n?i:o,isTimeAutoFilled:r,isCompleteTime:(l=t,l.every((e=>e.text&&e.text.length>0))),isTimeSelected:s,isPartialTime:Xa(t),orderedSegments:a,segments:t};var l},So=(e,t,s,a,o)=>{const i=a-s+1;if(0===s){if("increase"===o){return(e+t)%i}return(e-t+i)%i}if("increase"===o){return(e+t-s)%i+s}return(e-t-s+i)%i+s},go=(e,t,s)=>{const a=s.hasLeadingZeros??0===s["aria-valuemin"],o=fo(t,s,e,a);return{...s,"aria-valuetext":o,"aria-valuenow":t,text:o,isComplete:!0,isAutoFilled:!1}},To=(e,t)=>{const s=(e=>e["aria-valuemin"])(t);return go(e,s,t)},bo=(e,t)=>{const s=(e=>e["aria-valuemax"])(t);return go(e,s,t)},Fo=(e,t,s,a)=>{const o="hour"===e&&1===t["aria-valuemin"]?12:t["aria-valuemin"],i=t["aria-valuenow"],n=t["aria-valuemin"],r=t["aria-valuemax"];let l;return l="dayPeriod"===e?0===i?12:0:void 0===i?o??n:"page"===s?((e,t,s,a,o)=>{let i;return i="minute"===o||"second"==o?10:"millisecond"===o?100:2,So(e,i,s,a,t)})(i,a,n,r,e):((e,t,s,a)=>So(e,1,s,a,t))(i,a,n,r),go(e,l,t)},fo=(e,t,s,a)=>{if("dayPeriod"===s){const s=t.amPm?.am,a=t.amPm?.pm;return e<12?s:a}const o=Ja(e);if(!a)return Ja(e);const i="millisecond"===s?3:2;return o.padStart(i,"0")},vo=(e,t)=>0===e&&12===t?0:12===e&&12===t?12:12===e?t+12:t,xo=e=>{const{ariaLabels:t,currentValue:s,granularity:a,hasLeadingZeroForHour:o,locale:i,timeMasks:n}=e,r=n.filter((({type:e})=>"literal"!==e)).map((({type:e})=>e)),l=s?.minute,d=s?.second,c=s?.millisecond,u=n.some((e=>"dayPeriod"===e.type)),m=void 0!==s?.hour,p=m?N.getHourValueStr(s.hour,u,o):void 0,y=void 0!==p?Ka(p):void 0,h=u&&m?N.getDayPeriodValueStr(i,s.hour):void 0,S=void 0!==h?N.getDayPeriodValueFromHour(s.hour):void 0,g=void 0===s?.minute?void 0:N.padWithZero(s.minute,2),T=void 0===s?.second?void 0:N.padWithZero(s.second,2),b=void 0===s?.millisecond?void 0:N.padWithZero(s.millisecond,3),F=void 0!==y&&void 0!==l&&("second"!==a||void 0!==d)&&("millisecond"!==a||void 0!==d&&void 0!==c)&&(!u||void 0!==S),f=void 0!==y||void 0!==l||("second"===a||"millisecond"===a)&&void 0!==d||"millisecond"===a&&void 0!==c,v=[{type:"second","aria-label":t.second,"aria-valuemin":0,"aria-valuemax":59,"aria-valuenow":d,"aria-valuetext":T,hasLeadingZeros:!0,isComplete:void 0!==d,isSelected:!1,text:T}],x=[{type:"millisecond","aria-label":t.millisecond,"aria-valuemin":0,"aria-valuemax":999,"aria-valuenow":c,"aria-valuetext":b,hasLeadingZeros:!0,isComplete:void 0!==b,isSelected:!1,text:b}],A=[{type:"dayPeriod",amPm:N.getAmPmStringsForLocale(i),"aria-label":t.dayPeriod,"aria-valuemin":N.AM_VALUE,"aria-valuemax":N.PM_VALUE,"aria-valuenow":S,"aria-valuetext":h,isComplete:void 0!==h,isSelected:!1,text:h}];return{committing:!1,currentTime:s,isCompleteTime:F,isTimeAutoFilled:!1,isTimeSelected:!1,isPartialTime:f,orderedSegments:r,segments:[{type:"hour","aria-label":t.hour,"aria-valuemin":u?1:0,"aria-valuemax":u?12:23,"aria-valuenow":y,"aria-valuetext":p,hasLeadingZeros:o,isComplete:void 0!==y,isSelected:!1,text:p},{type:"minute","aria-label":t.minute,"aria-valuemin":0,"aria-valuemax":59,"aria-valuenow":l,"aria-valuetext":g,hasLeadingZeros:!0,isComplete:void 0!==l,isSelected:!1,text:g},..."second"===a||"millisecond"===a?v:[],..."millisecond"===a?x:[],...u?A:[]]}},Ao=({isHidden:e,isHighlighted:s,isPlaceholder:a,text:o})=>{const i=""===o.trim(),n=C.classNames([_.segmentStyles.literalBase,a&&_.segmentStyles.placeholder,i&&_.segmentStyles.space,s&&_.segmentStyles.highlighted,e?_.segmentStyles.hidden:_.segmentStyles.notHidden]);return t.jsx("span",{"aria-hidden":"true",class:n,children:i?null:o})};const wo=({timeResetRef:e,direction:t,dispatch:s,groupRef:o,isDisabled:i,isFocused:n,isInputFocused:r,onCommit:l,onInput:d,state:c,value:u})=>{const{tabbableModeProps:{tabIndex:m}}=Z.useTabbableMode(),p=c.segments.some((e=>!!e.isSelected)),y=-1===m||p||i?-1:0,h=a.useRef(c.currentTime),S=a.useRef(c.currentTime),g=a.useRef(!1),T=a.useRef(!!n);e.current&&(h.current=u,S.current=u);const b=a.useCallback((e=>{s(e)}),[s]),F=a.useCallback((e=>{const t=e.target.getAttribute("data-segment");s(t?{actionType:"selectSegment",data:{type:t}}:{actionType:"selectFirst"})}),[s]),f=a.useCallback(((e=!0)=>{c.isCompleteTime&&(s({actionType:"selectTime"}),e&&o?.current?.focus())}),[s,o,c.isCompleteTime]),v=a.useCallback((()=>{f()}),[f]),x=a.useCallback((e=>{e.target.getAttribute("data-segment")&&f(!1)}),[f]),A=W.useDoubleTap({onDoubleTap:x,onSingleTap:F}),w=a.useCallback((e=>{"ltr"===t&&"ArrowLeft"===e.key||"rtl"===t&&"ArrowRight"===e.key?(s({actionType:"selectPrevious"}),e.stopPropagation()):"ltr"===t&&"ArrowRight"===e.key||"rtl"===t&&"ArrowLeft"===e.key?(s({actionType:"selectNext"}),e.stopPropagation()):(U.isBackspaceOrDelete(e)||"Backspace"===e.key)&&c.isTimeSelected?(s({actionType:"clearTime"}),g.current=!0,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()):U.isSelectAll(e)?(f(),e.preventDefault(),e.stopPropagation()):"Enter"===e.key&&(s({actionType:"commitOnEnter"}),e.preventDefault(),e.stopPropagation())}),[t,s,f,c.isTimeSelected]);if(T.current&&!n&&s({actionType:"commitOnBlur"}),T.current=!!n,c.committing){if(N.timesAreDifferent(S.current,c.currentTime)){const e=void 0!==c.currentTime?Object.freeze({...c.currentTime}):c.currentTime;l?.({value:e})}s({actionType:"committed"}),S.current=c.currentTime}if(N.timesAreDifferent(h.current,c.currentTime)&&!e.current){const e=void 0!==c.currentTime?Object.freeze({...c.currentTime}):c.currentTime;d({value:e}),h.current=e}e.current=!1;const C=a.useRef(!1),E=a.useRef(),L=a.useCallback((()=>{C.current=!0,clearTimeout(E.current),E.current=setTimeout((()=>{C.current=!1}),200)}),[]),_=a.useRef(!1);!r||_.current||C.current||s({actionType:"selectFirst"}),r||!_.current||C.current||s({actionType:"deselectAndComplete"}),r!==_.current&&(C.current=!1,_.current=!!r);const P=function(){const e=k.getClientHints().deviceType;return"phone"===e||"tablet"===e}()?{...A,onKeyDown:w}:{onClick:F,onDoubleClick:v,onKeyDown:w,onPointerDown:L};return{timeClearedRef:g,timeFieldHandlers:i?{}:P,segmentHandlers:i?{}:{onChange:b},tabIndex:y}},Co=(e,t)=>e.find((e=>e.type===t)),Uo=({"aria-describedby":e,"aria-invalid":s,"aria-label":o,"aria-labelledby":i,baseId:n,fieldRef:r,granularity:l="minute",hasLeadingZeroForHour:d,hasInsideLabel:c,isRequired:u,masks:m,onBlur:p,onCommit:y,onFocus:h,onInput:S,testId:g,textAlign:T,value:b,variant:F="default"})=>{const{direction:f,locale:v}=j.useUser(),{am:x,pm:A}=a.useMemo((()=>N.getAmPmStringsForLocale(v)),[v]),w=P.useTranslationBundle("@oracle/oraclejet-preact"),U=w.inputTimeMask_time_cleared(),E={hour:w.formControl_hour(),minute:w.formControl_minute(),second:w.formControl_second(),millisecond:w.formControl_millisecond(),dayPeriod:`${x}/${A}`},{isDisabled:L,isFocused:_,isInputFocused:k}=V.useFormFieldContext(),H=void 0!==b,{classes:W}=D.useComponentTheme(O.TextFieldInputRedwoodTheme,{type:"notPassword",styleVariant:F,textarea:"notTextArea",input:"notInput",div:"isDiv",prefix:"noPrefix",suffix:"noSuffix",startContent:"noStartContent",endContent:"noEndContent",insideLabel:c?"hasInsideLabel":"noInsideLabel",value:H?"hasValue":"noValue",focused:_?"isFocused":"notFocused",disabled:L?"isDisabled":"notDisabled"}),Z=C.classNames([W]),{state:q,dispatch:$,timeResetRef:z}=(({ariaLabels:e,granularity:t,hasLeadingZeroForHour:s,locale:o,timeMasks:i,value:n})=>{const[r,l]=a.useReducer(Ga,{ariaLabels:e,currentValue:n,hasLeadingZeroForHour:s,granularity:t,locale:o,timeMasks:i},xo),d=a.useRef(n),c=a.useRef(!1);N.timesAreDifferent(d.current,n)&&(d.current=n,N.timesAreDifferent(n,r.currentTime))&&(l({actionType:"reset",data:xo({ariaLabels:e,currentValue:n,hasLeadingZeroForHour:s,granularity:t,locale:o,timeMasks:i})}),c.current=!0);return{timeResetRef:c,dispatch:l,state:r}})({ariaLabels:E,timeMasks:m,granularity:l,hasLeadingZeroForHour:d,locale:v,value:b}),{isTimeSelected:G,isPartialTime:K,segments:J}=q,Q={hour:Co(J,"hour"),minute:Co(J,"minute"),second:"second"===l||"millisecond"===l?Co(J,"second"):void 0,millisecond:"millisecond"===l?Co(J,"millisecond"):void 0,dayPeriod:Co(J,"dayPeriod")},X=a.useRef(null),{timeFieldHandlers:Y,timeClearedRef:ee,segmentHandlers:te,tabIndex:se}=wo({timeResetRef:z,direction:f,dispatch:$,groupRef:X,isDisabled:L,isFocused:_,isInputFocused:k,onCommit:y,onInput:S,state:q,value:b}),ae=void 0===b&&c&&!_,oe=q.isCompleteTime?N.formatTimeFromMasks(v,q.currentTime,l,m,d):"",ie=`${n}-time`,ne=q.isCompleteTime?t.jsx(R.HiddenAccessible,{id:ie,children:oe}):void 0,re=q.isCompleteTime?M.merge([e,ie]):e,le=ee.current?U:"",de=q.isTimeAutoFilled?oe:"",ce=q.orderedSegments[0];return t.jsxs("div",{"aria-describedby":re,"aria-label":o,"aria-labelledby":i,class:Z,onFocusIn:h,onFocusOut:p,ref:X,role:"group",tabIndex:se,...Y,children:[t.jsx(B.Flex,{direction:"row",wrap:"nowrap",justify:T,children:m.map((({type:e,value:a})=>{const o="literal"!==e?Q[e]:{};return"literal"===e?t.jsx(Ao,{isHidden:ae,isHighlighted:G,isPlaceholder:!K,text:a}):t.jsx(za,{inputRef:e===ce?r:void 0,isDisabled:L,isInvalid:!!s,isHidden:ae,isHighlighted:G,isRequired:u,placeholder:a,type:e,...te,...o})}))}),ne,!L&&t.jsx(I.LiveRegion,{children:le}),!L&&t.jsx(I.LiveRegion,{testId:g?g+"_autoFilledTime":void 0,children:de})]})},Eo=s.forwardRef((({"aria-describedby":e,assistiveText:s,columnSpan:o,endContent:i,granularity:n="minute",helpSourceLink:r,helpSourceText:l,isHour12:d,isDisabled:m,isReadonly:p,isRequired:y,isRequiredShown:h,label:S,labelEdge:g,labelStartWidth:T,hasLeadingZeroForHour:b,mainFieldRef:F,messages:f,masks:v,testId:x,textAlign:A,userAssistanceDensity:w,value:C,variant:U,onCommit:E,onInput:L},_)=>{const{isDisabled:k,isReadonly:P,labelEdge:B,labelStartWidth:R,textAlign:I,userAssistanceDensity:M}=ee.useFormContext(),D=m??k,V=p??P,O=g??B,W=T??R,Z=A??I,$=w??M,z=a.useRef(null),Q=a.useRef(null),{focusProps:Y,isFocused:se,methods:ae}=X.useFocusableTextField({isDisabled:D,isReadonly:V,enabledElementRef:z,readonlyElementRef:Q});a.useImperativeHandle(_,(()=>ae),[ae]);const oe=se,{baseId:ie,formFieldContext:ne,inputProps:re,labelProps:le,textFieldProps:de,userAssistanceProps:ce}=te.useTextField({ariaDescribedBy:e,helpSourceLink:r,helpSourceText:l,isDisabled:D,isFocused:oe,isReadonly:V,isRequiredShown:h,labelEdge:O,messages:f,styleVariant:U,userAssistanceDensity:$,value:C}),{forId:ue,...me}=le,{id:pe,...ye}=re,he=me.id,Se=a.useCallback((()=>{z.current?.focus()}),[z]),ge="none"!==O?t.jsx(q.Label,{...D||V?{}:{onClick:Se},...me,children:S}):void 0,Te={label:"none"!==O?ge:void 0,labelEdge:"none"!==O?O:void 0,labelStartWidth:"none"!==O?W:void 0},be="none"===O?S:void 0,Fe=void 0!==S&&"inside"===O,fe="efficient"===$||"reflow"===$?D||V?"efficient"!==$?void 0:t.jsx(c.InlineUserAssistance,{userAssistanceDensity:$,...ce}):t.jsx(c.InlineUserAssistance,{assistiveText:s,fieldLabel:S,helpSourceLink:r,helpSourceText:l,messages:f,isRequiredShown:h,userAssistanceDensity:$,...ce}):void 0,ve=a.useRef(null),xe=F??ve,Ae="compact"===$?t.jsx(u.CompactUserAssistance,{anchorRef:xe,messages:f,assistiveText:s,...ce}):void 0,{locale:we}=j.useUser();if(Lo(v,n,d),void 0!==v&&void 0===d){const e=void 0!==v.find((e=>"dayPeriod"===e.type));d=e}const Ce=a.useMemo((()=>v?N.replaceCustomMasksValuesWithPlaceholders(we,v):N.getTimeMasksFromLocaleAndOptions(we,n,d)),[n,d,we,v]),Ue=b??N.getLeadingZeroForHour(we);if(V)return t.jsx(H.FormFieldContext.Provider,{value:ne,children:t.jsx(K.ReadonlyTextField,{role:"presentation",columnSpan:o,compactUserAssistance:Ae,inlineUserAssistance:fe,onBlur:Y.onFocusOut,onFocus:Y.onFocusIn,ref:xe,testId:x,mainContent:t.jsx(G.ReadonlyTextFieldInput,{"aria-describedby":ye["aria-describedby"],"aria-label":be,"aria-labelledby":me.id,as:"div",elementRef:Q,textAlign:Z,value:void 0===C?"":N.formatTimeFromMasks(we,C,n,Ce,Ue),hasEmptyLabel:""===S&&"none"===O,hasInsideLabel:Fe}),...Te})});const Ee=t.jsx(Uo,{"aria-label":be,"aria-labelledby":he,baseId:ie,fieldRef:z,granularity:n,hasInsideLabel:void 0!==ge&&"inside"===O,hasLeadingZeroForHour:Ue,isRequired:y,masks:Ce,onCommit:E,onInput:L,testId:x?x+"_timeField":void 0,textAlign:Z,value:C,...ye});return t.jsx(H.FormFieldContext.Provider,{value:ne,children:t.jsx(J.TextField,{columnSpan:o,compactUserAssistance:Ae,endContent:i,inlineUserAssistance:fe,mainContent:Ee,onBlur:Y.onFocusOut,onFocus:Y.onFocusIn,mainFieldRef:xe,testId:x,...de,...Te})})})),Lo=(e,t,s)=>{if(void 0===e)return;if(void 0!==s){const t=void 0!==e.find((e=>"dayPeriod"===e.type));if(!t&&s)throw new Error("The masks object does not have a dayPeriod property. isHour12 should be set to false to match masks.");if(t&&!s)throw new Error("The masks object does not have a dayPeriod property. isHour12 should be set to true to match masks.")}const a=void 0!==e.find((e=>"second"===e.type)),o=void 0!==e.find((e=>"millisecond"===e.type)),i="Change granularity to match the properties you have in the masks object.";if("second"===t&&!a){throw new Error(`granularity is second, but the masks does not contain the second property. \n      ${i}`)}if("second"===t&&o){throw new Error(`granularity is second, but the masks object contains the millisecond property. \n      ${i}`)}if(!("millisecond"!==t||a&&o)){throw new Error(`"Granularity is set to millisecond. The masks object should contain both the second and millisecond properties, but one or both are missing." \n      ${i}`)}if("minute"===t&&(a||o))throw new Error(`granularity is minute, but the masks object contains the second and/or millisecond property.\n        ${i}`)};e.InputTimeMask=Eo,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_InputTimeMask.js.map
